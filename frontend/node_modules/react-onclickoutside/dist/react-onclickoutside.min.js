!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.onClickOutside={},e.React,e.ReactDOM)}(this,function(e,s,u){"use strict";var t,d,a=(void 0===t&&(t=0),function(){return++t}),l={},p={},o=["touchstart","touchmove"],n="ignore-react-onclickoutside";function f(e,t){var n=null;return!!~o.indexOf(t)&&d&&(n={passive:!e.props.preventDefault}),n}e.IGNORE_CLASS_NAME=n,e.default=function(i,r){var e,c=i.displayName||i.name||"Component",t=e=function(t){var e;function n(e){var n=t.call(this,e)||this;return n.__outsideClickHandler=function(e){if("function"!=typeof n.__clickOutsideHandlerProp){var t=n.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw Error("WrappedComponent: "+c+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else n.__clickOutsideHandlerProp(e)},n.__getComponentNode=function(){var e=n.getInstance();return r&&"function"==typeof r.setClickOutsideRef?r.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():u.findDOMNode(e)},n.enableOnClickOutside=function(){var e;"undefined"==typeof document||p[n._uid]||(void 0===d&&(d=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),p[n._uid]=!0,(e=n.props.eventTypes).forEach||(e=[e]),l[n._uid]=function(e){var t;null!==n.componentNode&&(n.props.preventDefault&&e.preventDefault(),n.props.stopPropagation&&e.stopPropagation(),n.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(i=n,(o=e)===t||(o.correspondingElement||o).classList.contains(i))return!0;e=e.parentNode}var o,i;return e}(e.target,n.componentNode,n.props.outsideClickIgnoreClass)!==document||n.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,l[n._uid],f(n,e))}))},n.disableOnClickOutside=function(){delete p[n._uid];var e,t=l[n._uid];t&&"undefined"!=typeof document&&((e=n.props.eventTypes).forEach||(e=[e]),e.forEach(function(e){return document.removeEventListener(e,t,f(n,e))}),delete l[n._uid])},n.getRef=function(e){return n.instanceRef=e},n._uid=a(),n}(e=n).prototype=Object.create((o=t).prototype),(e.prototype.constructor=e).__proto__=o;var o=n.prototype;return o.getInstance=function(){if(!i.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},o.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(r&&"function"==typeof r.handleClickOutside&&(this.__clickOutsideHandlerProp=r.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw Error("WrappedComponent: "+c+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},o.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},o.componentWillUnmount=function(){this.disableOnClickOutside()},o.render=function(){var e=this.props,e=function(e,t){if(null==e)return{};var n,o={},i=Object.keys(e);for(c=0;c<i.length;c++)~t.indexOf(n=i[c])||(o[n]=e[n]);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),c=0;c<r.length;c++)~t.indexOf(n=r[c])||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o}(e,["excludeScrollbar"]);return i.prototype.isReactComponent?e.ref=this.getRef:e.wrappedRef=this.getRef,e.disableOnClickOutside=this.disableOnClickOutside,e.enableOnClickOutside=this.enableOnClickOutside,s.createElement(i,e)},n}(s.Component);return e.displayName="OnClickOutside("+c+")",e.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:r&&r.excludeScrollbar||!1,outsideClickIgnoreClass:n,preventDefault:!1,stopPropagation:!1},e.getClass=function(){return i.getClass?i.getClass():i},t},Object.defineProperty(e,"__esModule",{value:!0})});
