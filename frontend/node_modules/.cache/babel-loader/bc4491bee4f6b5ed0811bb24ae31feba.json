{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/** @jsx jsx */\n\n\nimport React from 'react';\nimport { jsx } from '@emotion/core';\nimport rafSchedule from 'raf-schd';\nimport ScrollLock, { TouchScrollable } from 'react-scrolllock';\nimport { bodyStyles, Body as DefaultBody, keylineHeight, wrapperStyles } from '../styled/Content';\nimport Footer from './Footer';\nimport Header from './Header';\n\nfunction getInitialState() {\n  return {\n    showFooterKeyline: false,\n    showHeaderKeyline: false,\n    showContentFocus: false,\n    tabbableElements: []\n  };\n}\n\nfunction mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nvar Content = /*#__PURE__*/function (_React$Component) {\n  _inherits(Content, _React$Component);\n\n  var _super = _createSuper(Content);\n\n  function Content() {\n    var _this;\n\n    _classCallCheck(this, Content);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"escapeIsHeldDown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollContainer\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", getInitialState());\n\n    _defineProperty(_assertThisInitialized(_this), \"determineKeylines\", rafSchedule(function () {\n      if (!_this.scrollContainer) {\n        return;\n      }\n\n      var _this$scrollContainer = _this.scrollContainer,\n          scrollTop = _this$scrollContainer.scrollTop,\n          scrollHeight = _this$scrollContainer.scrollHeight,\n          clientHeight = _this$scrollContainer.clientHeight;\n      var scrollableDistance = scrollHeight - clientHeight;\n      var showHeaderKeyline = scrollTop > keylineHeight;\n      var showFooterKeyline = scrollTop <= scrollableDistance - keylineHeight;\n      var showContentFocus = scrollHeight > clientHeight;\n\n      _this.setState({\n        showHeaderKeyline: showHeaderKeyline,\n        showFooterKeyline: showFooterKeyline,\n        showContentFocus: showContentFocus\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"getScrollContainer\", function (ref) {\n      if (!ref) {\n        return;\n      }\n\n      _this.scrollContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyUp\", function () {\n      _this.escapeIsHeldDown = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var _this$props = _this.props,\n          onClose = _this$props.onClose,\n          shouldCloseOnEscapePress = _this$props.shouldCloseOnEscapePress,\n          _this$props$stackInde = _this$props.stackIndex,\n          stackIndex = _this$props$stackInde === void 0 ? 0 : _this$props$stackInde;\n      var isEscapeKeyPressed = event.key === 'Escape'; // avoid consumers accidentally closing multiple modals if they hold escape.\n\n      if (_this.escapeIsHeldDown) {\n        return;\n      }\n\n      if (isEscapeKeyPressed) {\n        _this.escapeIsHeldDown = true;\n      } // only the foremost modal should be interactive.\n\n\n      if (!_this._isMounted || stackIndex > 0) {\n        return;\n      }\n\n      if (isEscapeKeyPressed && shouldCloseOnEscapePress) {\n        onClose(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleStackChange\", function (stackIndex) {\n      var onStackChange = _this.props.onStackChange;\n\n      if (onStackChange) {\n        onStackChange(stackIndex);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      document.addEventListener('keydown', this.handleKeyDown, false);\n      document.addEventListener('keyup', this.handleKeyUp, false);\n\n      if (this.scrollContainer) {\n        var capturedScrollContainer = this.scrollContainer;\n        window.addEventListener('resize', this.determineKeylines, false);\n        capturedScrollContainer.addEventListener('scroll', this.determineKeylines, false);\n        this.determineKeylines();\n      }\n      /* eslint-disable no-console */\n      // Check for deprecated props\n\n\n      if (this.props.header) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the header prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      }\n\n      if (this.props.footer) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the footer prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      }\n\n      if (this.props.body) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the body prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      } // Check that custom body components have used ForwardRef to attach to a DOM element\n\n\n      if (this.props.components.Body) {\n        if (!(this.scrollContainer instanceof HTMLElement)) {\n          console.warn('@atlaskit/modal-dialog: Warning - Ref must attach to a DOM element; check you are using forwardRef and attaching the ref to an appropriate element. Check the examples for more details.');\n        }\n      }\n      /* eslint-enable no-console */\n\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var stackIndex = this.props.stackIndex; // update focus scope and let consumer know when stack index has changed\n\n      if (nextProps.stackIndex && nextProps.stackIndex !== stackIndex) {\n        this.handleStackChange(nextProps.stackIndex);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      document.removeEventListener('keydown', this.handleKeyDown, false);\n      document.removeEventListener('keyup', this.handleKeyUp, false);\n\n      if (this.scrollContainer) {\n        var capturedScrollContainer = this.scrollContainer;\n        window.removeEventListener('resize', this.determineKeylines, false);\n        capturedScrollContainer.removeEventListener('scroll', this.determineKeylines, false);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          actions = _this$props2.actions,\n          appearance = _this$props2.appearance,\n          DeprecatedBody = _this$props2.body,\n          children = _this$props2.children,\n          components = _this$props2.components,\n          footer = _this$props2.footer,\n          header = _this$props2.header,\n          heading = _this$props2.heading,\n          isChromeless = _this$props2.isChromeless,\n          isHeadingMultiline = _this$props2.isHeadingMultiline,\n          onClose = _this$props2.onClose,\n          shouldScroll = _this$props2.shouldScroll,\n          testId = _this$props2.testId,\n          headingId = _this$props2.headingId;\n      var _this$state = this.state,\n          showFooterKeyline = _this$state.showFooterKeyline,\n          showHeaderKeyline = _this$state.showHeaderKeyline,\n          showContentFocus = _this$state.showContentFocus;\n      var _components$Container = components.Container,\n          Container = _components$Container === void 0 ? 'div' : _components$Container,\n          CustomBody = components.Body;\n      var Body = CustomBody || DeprecatedBody || DefaultBody;\n      return jsx(Container, {\n        css: wrapperStyles,\n        \"data-testid\": testId\n      }, isChromeless ? children : jsx(React.Fragment, null, jsx(Header, {\n        id: headingId,\n        appearance: appearance,\n        component: components.Header ? components.Header : header,\n        heading: heading,\n        onClose: onClose,\n        isHeadingMultiline: isHeadingMultiline,\n        showKeyline: showHeaderKeyline,\n        testId: testId\n      }), this.scrollContainer instanceof HTMLElement ? jsx(TouchScrollable, null, function (touchRef) {\n        return jsx(Body, _extends({\n          tabIndex: showContentFocus ? 0 : undefined,\n          css: bodyStyles(shouldScroll)\n        }, !Body.hasOwnProperty('styledComponentId') ? {\n          ref: mergeRefs([touchRef, _this2.getScrollContainer])\n        } : {\n          innerRef: mergeRefs([touchRef, _this2.getScrollContainer])\n        }), children);\n      }) : jsx(Body, _extends({\n        tabIndex: showContentFocus ? 0 : undefined,\n        css: bodyStyles(shouldScroll)\n      }, !Body.hasOwnProperty('styledComponentId') ? {\n        ref: this.getScrollContainer\n      } : {\n        innerRef: this.getScrollContainer\n      }), children), jsx(Footer, {\n        actions: actions,\n        appearance: appearance,\n        component: components.Footer ? components.Footer : footer,\n        onClose: onClose,\n        showKeyline: showFooterKeyline\n      })), jsx(ScrollLock, null));\n    }\n  }]);\n\n  return Content;\n}(React.Component);\n\n_defineProperty(Content, \"defaultProps\", {\n  autoFocus: false,\n  components: {},\n  isChromeless: false,\n  stackIndex: 0,\n  isHeadingMultiline: true\n});\n\nexport { Content as default };","map":{"version":3,"sources":["/Users/oustan/Documents/PROJECTS/dancefest-web/frontend/node_modules/@atlaskit/modal-dialog/dist/esm/components/Content.js"],"names":["_extends","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","React","jsx","rafSchedule","ScrollLock","TouchScrollable","bodyStyles","Body","DefaultBody","keylineHeight","wrapperStyles","Footer","Header","getInitialState","showFooterKeyline","showHeaderKeyline","showContentFocus","tabbableElements","mergeRefs","refs","value","forEach","ref","current","Content","_React$Component","_super","_this","_len","length","args","Array","_key","concat","scrollContainer","_this$scrollContainer","scrollTop","scrollHeight","clientHeight","scrollableDistance","setState","escapeIsHeldDown","event","_this$props","props","onClose","shouldCloseOnEscapePress","_this$props$stackInde","stackIndex","isEscapeKeyPressed","key","_isMounted","onStackChange","componentDidMount","document","addEventListener","handleKeyDown","handleKeyUp","capturedScrollContainer","window","determineKeylines","header","console","warn","footer","body","components","HTMLElement","UNSAFE_componentWillReceiveProps","nextProps","handleStackChange","componentWillUnmount","removeEventListener","render","_this2","_this$props2","actions","appearance","DeprecatedBody","children","heading","isChromeless","isHeadingMultiline","shouldScroll","testId","headingId","_this$state","state","_components$Container","Container","CustomBody","css","Fragment","id","component","showKeyline","touchRef","tabIndex","undefined","hasOwnProperty","getScrollContainer","innerRef","Component","autoFocus","default"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/** @jsx jsx */\nimport React from 'react';\nimport { jsx } from '@emotion/core';\nimport rafSchedule from 'raf-schd';\nimport ScrollLock, { TouchScrollable } from 'react-scrolllock';\nimport { bodyStyles, Body as DefaultBody, keylineHeight, wrapperStyles } from '../styled/Content';\nimport Footer from './Footer';\nimport Header from './Header';\n\nfunction getInitialState() {\n  return {\n    showFooterKeyline: false,\n    showHeaderKeyline: false,\n    showContentFocus: false,\n    tabbableElements: []\n  };\n}\n\nfunction mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nvar Content = /*#__PURE__*/function (_React$Component) {\n  _inherits(Content, _React$Component);\n\n  var _super = _createSuper(Content);\n\n  function Content() {\n    var _this;\n\n    _classCallCheck(this, Content);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"escapeIsHeldDown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollContainer\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", getInitialState());\n\n    _defineProperty(_assertThisInitialized(_this), \"determineKeylines\", rafSchedule(function () {\n      if (!_this.scrollContainer) {\n        return;\n      }\n\n      var _this$scrollContainer = _this.scrollContainer,\n          scrollTop = _this$scrollContainer.scrollTop,\n          scrollHeight = _this$scrollContainer.scrollHeight,\n          clientHeight = _this$scrollContainer.clientHeight;\n      var scrollableDistance = scrollHeight - clientHeight;\n      var showHeaderKeyline = scrollTop > keylineHeight;\n      var showFooterKeyline = scrollTop <= scrollableDistance - keylineHeight;\n      var showContentFocus = scrollHeight > clientHeight;\n\n      _this.setState({\n        showHeaderKeyline: showHeaderKeyline,\n        showFooterKeyline: showFooterKeyline,\n        showContentFocus: showContentFocus\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"getScrollContainer\", function (ref) {\n      if (!ref) {\n        return;\n      }\n\n      _this.scrollContainer = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyUp\", function () {\n      _this.escapeIsHeldDown = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var _this$props = _this.props,\n          onClose = _this$props.onClose,\n          shouldCloseOnEscapePress = _this$props.shouldCloseOnEscapePress,\n          _this$props$stackInde = _this$props.stackIndex,\n          stackIndex = _this$props$stackInde === void 0 ? 0 : _this$props$stackInde;\n      var isEscapeKeyPressed = event.key === 'Escape'; // avoid consumers accidentally closing multiple modals if they hold escape.\n\n      if (_this.escapeIsHeldDown) {\n        return;\n      }\n\n      if (isEscapeKeyPressed) {\n        _this.escapeIsHeldDown = true;\n      } // only the foremost modal should be interactive.\n\n\n      if (!_this._isMounted || stackIndex > 0) {\n        return;\n      }\n\n      if (isEscapeKeyPressed && shouldCloseOnEscapePress) {\n        onClose(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleStackChange\", function (stackIndex) {\n      var onStackChange = _this.props.onStackChange;\n\n      if (onStackChange) {\n        onStackChange(stackIndex);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      document.addEventListener('keydown', this.handleKeyDown, false);\n      document.addEventListener('keyup', this.handleKeyUp, false);\n\n      if (this.scrollContainer) {\n        var capturedScrollContainer = this.scrollContainer;\n        window.addEventListener('resize', this.determineKeylines, false);\n        capturedScrollContainer.addEventListener('scroll', this.determineKeylines, false);\n        this.determineKeylines();\n      }\n      /* eslint-disable no-console */\n      // Check for deprecated props\n\n\n      if (this.props.header) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the header prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      }\n\n      if (this.props.footer) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the footer prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      }\n\n      if (this.props.body) {\n        console.warn(\"@atlaskit/modal-dialog: Deprecation warning - Use of the body prop in ModalDialog is deprecated. Please compose your ModalDialog using the 'components' prop instead\");\n      } // Check that custom body components have used ForwardRef to attach to a DOM element\n\n\n      if (this.props.components.Body) {\n        if (!(this.scrollContainer instanceof HTMLElement)) {\n          console.warn('@atlaskit/modal-dialog: Warning - Ref must attach to a DOM element; check you are using forwardRef and attaching the ref to an appropriate element. Check the examples for more details.');\n        }\n      }\n      /* eslint-enable no-console */\n\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var stackIndex = this.props.stackIndex; // update focus scope and let consumer know when stack index has changed\n\n      if (nextProps.stackIndex && nextProps.stackIndex !== stackIndex) {\n        this.handleStackChange(nextProps.stackIndex);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      document.removeEventListener('keydown', this.handleKeyDown, false);\n      document.removeEventListener('keyup', this.handleKeyUp, false);\n\n      if (this.scrollContainer) {\n        var capturedScrollContainer = this.scrollContainer;\n        window.removeEventListener('resize', this.determineKeylines, false);\n        capturedScrollContainer.removeEventListener('scroll', this.determineKeylines, false);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          actions = _this$props2.actions,\n          appearance = _this$props2.appearance,\n          DeprecatedBody = _this$props2.body,\n          children = _this$props2.children,\n          components = _this$props2.components,\n          footer = _this$props2.footer,\n          header = _this$props2.header,\n          heading = _this$props2.heading,\n          isChromeless = _this$props2.isChromeless,\n          isHeadingMultiline = _this$props2.isHeadingMultiline,\n          onClose = _this$props2.onClose,\n          shouldScroll = _this$props2.shouldScroll,\n          testId = _this$props2.testId,\n          headingId = _this$props2.headingId;\n      var _this$state = this.state,\n          showFooterKeyline = _this$state.showFooterKeyline,\n          showHeaderKeyline = _this$state.showHeaderKeyline,\n          showContentFocus = _this$state.showContentFocus;\n      var _components$Container = components.Container,\n          Container = _components$Container === void 0 ? 'div' : _components$Container,\n          CustomBody = components.Body;\n      var Body = CustomBody || DeprecatedBody || DefaultBody;\n      return jsx(Container, {\n        css: wrapperStyles,\n        \"data-testid\": testId\n      }, isChromeless ? children : jsx(React.Fragment, null, jsx(Header, {\n        id: headingId,\n        appearance: appearance,\n        component: components.Header ? components.Header : header,\n        heading: heading,\n        onClose: onClose,\n        isHeadingMultiline: isHeadingMultiline,\n        showKeyline: showHeaderKeyline,\n        testId: testId\n      }), this.scrollContainer instanceof HTMLElement ? jsx(TouchScrollable, null, function (touchRef) {\n        return jsx(Body, _extends({\n          tabIndex: showContentFocus ? 0 : undefined,\n          css: bodyStyles(shouldScroll)\n        }, !Body.hasOwnProperty('styledComponentId') ? {\n          ref: mergeRefs([touchRef, _this2.getScrollContainer])\n        } : {\n          innerRef: mergeRefs([touchRef, _this2.getScrollContainer])\n        }), children);\n      }) : jsx(Body, _extends({\n        tabIndex: showContentFocus ? 0 : undefined,\n        css: bodyStyles(shouldScroll)\n      }, !Body.hasOwnProperty('styledComponentId') ? {\n        ref: this.getScrollContainer\n      } : {\n        innerRef: this.getScrollContainer\n      }), children), jsx(Footer, {\n        actions: actions,\n        appearance: appearance,\n        component: components.Footer ? components.Footer : footer,\n        onClose: onClose,\n        showKeyline: showFooterKeyline\n      })), jsx(ScrollLock, null));\n    }\n  }]);\n\n  return Content;\n}(React.Component);\n\n_defineProperty(Content, \"defaultProps\", {\n  autoFocus: false,\n  components: {},\n  isChromeless: false,\n  stackIndex: 0,\n  isHeadingMultiline: true\n});\n\nexport { Content as default };"]},"metadata":{},"sourceType":"module"}