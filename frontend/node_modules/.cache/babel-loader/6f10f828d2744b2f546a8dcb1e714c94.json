{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { constants } from 'focus-lock';\nimport FocusTrap, { onBlur, onFocus } from './Trap';\nimport { hiddenGuard } from './FocusGuard';\n\nvar RenderChildren = function RenderChildren(_ref) {\n  var children = _ref.children;\n  return React.createElement(\"div\", null, children);\n};\n\nRenderChildren.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\nvar Fragment = React.Fragment ? React.Fragment : RenderChildren;\nvar emptyArray = [];\n\nvar FocusLock = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FocusLock, _Component);\n\n  function FocusLock() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      observed: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onActivation\", function () {\n      _this.originalFocusedElement = _this.originalFocusedElement || document && document.activeElement;\n\n      if (_this.state.observed && _this.props.onActivation) {\n        _this.props.onActivation(_this.state.observed);\n      }\n\n      _this.isActive = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onDeactivation\", function () {\n      _this.isActive = false;\n\n      if (_this.props.returnFocus && _this.originalFocusedElement && _this.originalFocusedElement.focus) {\n        _this.originalFocusedElement.focus();\n\n        _this.originalFocusedElement = null;\n      }\n\n      if (_this.props.onDeactivation) {\n        _this.props.onDeactivation(_this.state.observed);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFocus\", function (event) {\n      if (_this.isActive) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBlur\", onBlur);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setObserveNode\", function (observed) {\n      if (_this.state.observed !== observed) {\n        _this.setState({\n          observed: observed\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isActive\", false);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"originalFocusedElement\", null);\n\n    return _this;\n  }\n\n  var _proto = FocusLock.prototype;\n\n  _proto.render = function render() {\n    var _extends2;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        disabled = _this$props.disabled,\n        noFocusGuards = _this$props.noFocusGuards,\n        persistentFocus = _this$props.persistentFocus,\n        autoFocus = _this$props.autoFocus,\n        allowTextSelection = _this$props.allowTextSelection,\n        group = _this$props.group,\n        className = _this$props.className,\n        whiteList = _this$props.whiteList,\n        _this$props$shards = _this$props.shards,\n        shards = _this$props$shards === void 0 ? emptyArray : _this$props$shards,\n        _this$props$as = _this$props.as,\n        Container = _this$props$as === void 0 ? 'div' : _this$props$as,\n        _this$props$lockProps = _this$props.lockProps,\n        containerProps = _this$props$lockProps === void 0 ? {} : _this$props$lockProps;\n    var observed = this.state.observed;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof allowTextSelection !== 'undefined') {\n        // eslint-disable-next-line no-console\n        console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n      }\n    }\n\n    var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n    var hasLeadingGuards = noFocusGuards !== true;\n    var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n    return React.createElement(Fragment, null, hasLeadingGuards && [React.createElement(\"div\", {\n      key: \"guard-first\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }), // nearest focus guard\n    React.createElement(\"div\", {\n      key: \"guard-nearest\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 1,\n      style: hiddenGuard\n    })], React.createElement(Container, _extends({\n      ref: this.setObserveNode\n    }, lockProps, {\n      className: className,\n      onBlur: this.onBlur,\n      onFocus: this.onFocus\n    }), React.createElement(FocusTrap, {\n      observed: observed,\n      disabled: disabled,\n      persistentFocus: persistentFocus,\n      autoFocus: autoFocus,\n      whiteList: whiteList,\n      shards: shards,\n      onActivation: this.onActivation,\n      onDeactivation: this.onDeactivation\n    }), children), hasTailingGuards && React.createElement(\"div\", {\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }));\n  };\n\n  return FocusLock;\n}(Component);\n\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  returnFocus: PropTypes.bool,\n  noFocusGuards: PropTypes.bool,\n  allowTextSelection: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  persistentFocus: PropTypes.bool,\n  group: PropTypes.string,\n  className: PropTypes.string,\n  whiteList: PropTypes.func,\n  shards: PropTypes.arrayOf(PropTypes.any),\n  as: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object]),\n  lockProps: PropTypes.object,\n  onActivation: PropTypes.func,\n  onDeactivation: PropTypes.func\n} : {};\nFocusLock.defaultProps = {\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;","map":{"version":3,"sources":["/Users/oustan/Documents/PROJECTS/dancefest-web/frontend/node_modules/react-focus-lock/dist/es2015/Lock.js"],"names":["_extends","_inheritsLoose","_assertThisInitialized","_defineProperty","React","Component","PropTypes","constants","FocusTrap","onBlur","onFocus","hiddenGuard","RenderChildren","_ref","children","createElement","propTypes","process","env","NODE_ENV","node","isRequired","Fragment","emptyArray","FocusLock","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","observed","undefined","originalFocusedElement","document","activeElement","state","props","onActivation","isActive","returnFocus","focus","onDeactivation","event","setState","_proto","prototype","render","_extends2","_this$props","disabled","noFocusGuards","persistentFocus","autoFocus","allowTextSelection","group","className","whiteList","_this$props$shards","shards","_this$props$as","as","Container","_this$props$lockProps","lockProps","containerProps","console","warn","FOCUS_DISABLED","FOCUS_GROUP","hasLeadingGuards","hasTailingGuards","key","tabIndex","style","ref","setObserveNode","bool","string","func","arrayOf","any","oneOfType","object","defaultProps"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { constants } from 'focus-lock';\nimport FocusTrap, { onBlur, onFocus } from './Trap';\nimport { hiddenGuard } from './FocusGuard';\n\nvar RenderChildren = function RenderChildren(_ref) {\n  var children = _ref.children;\n  return React.createElement(\"div\", null, children);\n};\n\nRenderChildren.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\nvar Fragment = React.Fragment ? React.Fragment : RenderChildren;\nvar emptyArray = [];\n\nvar FocusLock =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(FocusLock, _Component);\n\n  function FocusLock() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      observed: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onActivation\", function () {\n      _this.originalFocusedElement = _this.originalFocusedElement || document && document.activeElement;\n\n      if (_this.state.observed && _this.props.onActivation) {\n        _this.props.onActivation(_this.state.observed);\n      }\n\n      _this.isActive = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onDeactivation\", function () {\n      _this.isActive = false;\n\n      if (_this.props.returnFocus && _this.originalFocusedElement && _this.originalFocusedElement.focus) {\n        _this.originalFocusedElement.focus();\n\n        _this.originalFocusedElement = null;\n      }\n\n      if (_this.props.onDeactivation) {\n        _this.props.onDeactivation(_this.state.observed);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFocus\", function (event) {\n      if (_this.isActive) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBlur\", onBlur);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setObserveNode\", function (observed) {\n      if (_this.state.observed !== observed) {\n        _this.setState({\n          observed: observed\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isActive\", false);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"originalFocusedElement\", null);\n\n    return _this;\n  }\n\n  var _proto = FocusLock.prototype;\n\n  _proto.render = function render() {\n    var _extends2;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        disabled = _this$props.disabled,\n        noFocusGuards = _this$props.noFocusGuards,\n        persistentFocus = _this$props.persistentFocus,\n        autoFocus = _this$props.autoFocus,\n        allowTextSelection = _this$props.allowTextSelection,\n        group = _this$props.group,\n        className = _this$props.className,\n        whiteList = _this$props.whiteList,\n        _this$props$shards = _this$props.shards,\n        shards = _this$props$shards === void 0 ? emptyArray : _this$props$shards,\n        _this$props$as = _this$props.as,\n        Container = _this$props$as === void 0 ? 'div' : _this$props$as,\n        _this$props$lockProps = _this$props.lockProps,\n        containerProps = _this$props$lockProps === void 0 ? {} : _this$props$lockProps;\n    var observed = this.state.observed;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof allowTextSelection !== 'undefined') {\n        // eslint-disable-next-line no-console\n        console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n      }\n    }\n\n    var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n    var hasLeadingGuards = noFocusGuards !== true;\n    var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n    return React.createElement(Fragment, null, hasLeadingGuards && [React.createElement(\"div\", {\n      key: \"guard-first\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }), // nearest focus guard\n    React.createElement(\"div\", {\n      key: \"guard-nearest\",\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 1,\n      style: hiddenGuard\n    })], React.createElement(Container, _extends({\n      ref: this.setObserveNode\n    }, lockProps, {\n      className: className,\n      onBlur: this.onBlur,\n      onFocus: this.onFocus\n    }), React.createElement(FocusTrap, {\n      observed: observed,\n      disabled: disabled,\n      persistentFocus: persistentFocus,\n      autoFocus: autoFocus,\n      whiteList: whiteList,\n      shards: shards,\n      onActivation: this.onActivation,\n      onDeactivation: this.onDeactivation\n    }), children), hasTailingGuards && React.createElement(\"div\", {\n      \"data-focus-guard\": true,\n      tabIndex: disabled ? -1 : 0,\n      style: hiddenGuard\n    }));\n  };\n\n  return FocusLock;\n}(Component);\n\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  returnFocus: PropTypes.bool,\n  noFocusGuards: PropTypes.bool,\n  allowTextSelection: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  persistentFocus: PropTypes.bool,\n  group: PropTypes.string,\n  className: PropTypes.string,\n  whiteList: PropTypes.func,\n  shards: PropTypes.arrayOf(PropTypes.any),\n  as: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object]),\n  lockProps: PropTypes.object,\n  onActivation: PropTypes.func,\n  onDeactivation: PropTypes.func\n} : {};\nFocusLock.defaultProps = {\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;"]},"metadata":{},"sourceType":"module"}