(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,a){},250:function(e,t,a){e.exports=a.p+"static/media/background.b1c2db52.jpg"},263:function(e,t,a){e.exports=a.p+"static/media/Adjudications_empty.fb82b41f.png"},264:function(e,t,a){e.exports=a.p+"static/media/Events_empty.48124de9.png"},265:function(e,t,a){e.exports=a.p+"static/media/Performances_empty.6ffa66a7.png"},279:function(e,t,a){e.exports=a(636)},636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),c=(a(171),a(8)),i=a(9),s=a(12),u=a(10),d=a(13),p=a(278),m=a(639),h=a(641),f=a(640),v=a(642),b=a(11),E=a(167),g=a.n(E),y=a(638),C=a(253),O=a.n(C),j=a(254),w=a.n(j),k=a(74),S=a.n(k),x=a(54),D=a.n(x),A=a(35),N=a.n(A),T=a(251),I=a.n(T),M=a(7),_=a.n(M),F=a(76),P=(a(364),F.initializeApp({apiKey:"AIzaSyDpo9MpabGvAvM7j-0ypCuDYD4fWabeNpg",authDomain:"dancefest-198709.firebaseapp.com",databaseURL:"https://dancefest-198709.firebaseio.com",projectId:"dancefest-198709",storageBucket:"dancefest-198709.appspot.com",messagingSenderId:"620228359926"})),L=P.firestore();L.settings({timestampsInSnapshots:!0});var z=P.auth(),V=F.firestore.FieldValue,Y=L,W=a(25),R=a(62),B=a(250),U=a.n(B),J=function(e){return{flex:{display:"flex"},flex_default:{display:"flex",flex:"1 1 0"},link:{color:"inherit",textDecoration:"none","&:hover":{cursor:"pointer",opacity:"0.8"}},header_search:{position:"relative",borderRadius:e.shape.borderRadius,border:"1px solid #DCDCDC",boxShadow:"2px 2px 2px #DCDCDC",backgroundColor:Object(R.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(R.fade)(e.palette.common.white,.25)},minWidth:"300px"},header_searchIcon:{width:5*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},header_inputRoot:{color:"inherit",width:"100%"},header_inputInput:Object(W.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:5*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionHeaderWrapper:{textAlign:"center",position:"relative",marginTop:"25px",marginBottom:"25px"},sectionHeaderAction:{display:"flex",position:"absolute",top:"5px",right:"25px"},sectionHeaderBackButton:{display:"flex",position:"absolute",top:"5px",left:"25px"},title:{textTransform:"uppercase",fontSize:36,color:"#de2706"},table_editButton:{border:"1px solid #cfcfcf",borderRadius:"40px"},dfdialog_title:{color:"#de2706",borderBottom:"1px solid #c4c4c4",margin:"0 35px",padding:"35px 0 15px 0px"},dfdialog_moreIcon:{"&:hover":{cursor:"pointer"}},dfdialog_footer:{backgroundColor:"#F7F7F7",padding:"15px"},readOnlyInput:{fontWeight:"500","&:before":{borderBottom:"none!important"},"&:hover":{borderBottom:"none"},"&:after":{borderBottom:"none"}},readOnlyLabel:{color:"gray!important"},button:{border:"1px solid #4d4d4d",borderRadius:"40px",margin:"auto 5px"},button_login:{border:"1px solid red",borderRadius:"5px",margin:"auto 5px",backgroundColor:"red",color:"white",width:"192px"},button_default:{backgroundColor:"#d4d44",borderColor:"#cfcfcf"},button_primary:{backgroundColor:"black",color:"#fff"},button_secondary:{backgroundColor:"#c61100",color:"#fff",borderColor:"#c61100"},button_outline:{color:"#c61100",borderColor:"#cfcfcf"},button_disabled:{opacity:.7,cursor:"no-drop",color:"#fff!important"},button_transparent:{borderColor:"white"},subMenuItem:{display:"flex",justifyContent:"space-between"},subMenuOptions:{maxHeight:"500px",overflowY:"scroll",outline:"none",padding:"15px;"},settings_wrapper:{flex:1,margin:"0 auto",maxWidth:"700px",textAlign:"center",width:"80%"},settings_view:{alignItems:"center",backgroundColor:"whitesmoke",border:"1px solid #cfcfcf",display:"flex",flexFlow:"column",height:"auto",marginTop:"15px",padding:"15px"},loading_wrapper:{display:"flex",justifyContent:"center",marginTop:"10%"},emptyState_wrapper:{display:"flex",justifyContent:"center"},emptyState_content:{marginTop:"100px",textAlign:"center"},emptyState_title:{fontSize:"20px",textAlign:"center"},emptyState_subtitle:{textAlign:"center"},settingsDropdown_wrapper:{display:"inline",marginLeft:"92%",cursor:"pointer",color:"white"},loginSectionStyle:{width:"100%",height:"100%",backgroundImage:"url(".concat(U.a,")"),backgroundSize:"cover"},loginDialogInput:{borderBottom:"1px solid white"},multilineColor:{color:"white"},dialogSection:{marginTop:"100px",marginLeft:"139px"}}},K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:void 0})},a.handleLogout=function(){z.signOut()},a.state={anchorEl:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes;return r.a.createElement("div",{className:t.settingsDropdown_wrapper},r.a.createElement(I.a,{"aria-owns":e&&"simple-menu","aria-haspopup":"true",onClick:this.handleClick,style:{cursor:"pointer"}}),r.a.createElement(D.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(y.a,{style:{outline:"none",textDecoration:"none"},to:"/settings"},r.a.createElement(N.a,{onClick:this.handleClose},"Settings")),r.a.createElement(N.a,{onClick:this.handleLogout},"Logout")))}}]),t}(r.a.Component),H=_()(J)(K),$=Object(b.withStyles)(J)(function(){return r.a.createElement(O.a,{position:"static",color:"primary"},r.a.createElement(w.a,null,r.a.createElement(y.a,{to:"/events",style:{color:"white",textDecoration:"none"}},r.a.createElement(S.a,{variant:"subtitle1",color:"inherit"},"DANCEFEST")),r.a.createElement(H,null)))}),G=a(643),X=a(43),q=a(75),Z=a.n(q),Q=function(e){var t=e.autoFocus,a=e.name,n=e.className,l=e.disabled,o=e.fullWidth,c=e.helperText,i=e.inputLabelProps,s=e.InputProps,u=e.label,d=e.multiline,p=void 0!==d&&d,m=e.onChange,h=e.placeholder,f=e.style,v=e.type,b=e.value;return r.a.createElement(Z.a,{autoFocus:t,className:n,disabled:l,style:Object(X.a)({margin:"0 5px 25px 5px"},f),helperText:c,InputLabelProps:i,InputProps:s,multiline:p,fullWidth:o,onChange:m,id:a,label:u,name:a,placeholder:h,type:v,value:b,margin:"normal",variant:"filled"})},ee=Q;Q.defaultProps={autoFocus:!1,className:null,disabled:!1,fullWidth:!1,helperText:null,multiline:!1,label:"",onChange:function(){},placeholder:"",style:null,type:null,value:""};var te=a(14),ae=a.n(te),ne=a(55),re=a.n(ne),le=function(e){var t,a=e.buttonType,n=e.classes,l=e.children,o=e.disabled,c=e.type,i=e.onClick;switch(c){case"outline":t=n.button_outline;break;case"secondary":t=n.button_secondary;break;case"primary":t=n.button_primary;break;case"login":t=n.button_login;break;case"transparent":t=n.button_transparent;break;case"default":default:t=n.button_default}var s=o?n.button_disabled:null;return r.a.createElement(re.a,{disabled:o,onClick:function(){return i&&i()},type:a,classes:{root:ae()(s,n.button,t)}},l)};le.defaultProps={buttonType:"submit",disabled:!1};var oe=Object(b.withStyles)(J)(le),ce=function(e){return r.a.createElement("div",{style:{color:"white"}},e)},ie=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleSubmit=function(){var e=a.props.history,t=a.state,n=t.email,r=t.password;return z.onAuthStateChanged(function(t){t?e.push("events"):e.push("/")}),z.signInWithEmailAndPassword(n,r),!1};e.classes;var n=e.history;return e.user&&n.push("/events"),a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=this.props.classes,l={classes:{input:n.multilineColor}};return r.a.createElement("form",{className:n.loginSectionStyle},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"50px"}},r.a.createElement("h4",{style:{fontFamily:"Fjalla One",color:"white",fontSize:"25px"}},"OSSDF DANCEFEST")),r.a.createElement("div",{className:n.dialogSection},r.a.createElement(ee,{className:n.loginDialogInput,value:t,name:"email",InputProps:l,label:ce("Email"),onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(ee,{className:n.loginDialogInput,type:"password",value:a,name:"password",InputProps:l,label:ce("Password"),onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(oe,{buttonType:"button",type:"login",onClick:this.handleSubmit},"Log In")))}}]),t}(r.a.Component);ie.defaultProps={user:null};var se=Object(G.a)(Object(b.withStyles)(J)(ie)),ue=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing Page"))},de=a(44),pe=a.n(de),me=a(19),he=a.n(me),fe=a(56),ve=a.n(fe),be=a(49),Ee=a.n(be),ge=a(45),ye=a.n(ge),Ce=a(86),Oe=a.n(Ce),je=a(118),we=a.n(je),ke={NO_CHANGE:"NO_CHANGE",INCREMENT:"INCREMENT",DECREMENT:"DECREMENT"},Se={ADD_DATA:"ADD_DATA",UPDATE_DATA:"UPDATE_DATA",DELETE_DATA:"DELETE_DATA"},xe={NEW:"new",EDIT:"edit"},De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.buttonTitle,a=e.children,n=e.onClick,l=e.onClose,o=e.formType,c=e.open,i=e.width,s=o===xe.EDIT?"default":"outline";return r.a.createElement("div",null,r.a.createElement(oe,{type:s,onClick:n},t),r.a.createElement(we.a,{fullWidth:!0,maxWidth:i,open:c,onClose:l,"aria-labelledby":"form-dialog-title"},a))}}]),t}(r.a.Component);De.defaultProps={width:"sm"};var Ae=Object(b.withStyles)(J)(De),Ne=a(257),Te=a.n(Ne),Ie=a(256),Me=a.n(Ie),_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).formattedAudioDuration=function(){var e=a.state.audioFile.duration;return"".concat(Math.floor(e/60),":").concat(Math.floor(e%60))},a.handleClick=function(){var e=a.state.audioFile;e.paused?(e.play(),a.setState({isPlaying:!0})):(e.pause(),a.setState({isPlaying:!1}))},a.loadAudio=function(){var e=a.props.audioURL;F.storage().ref().child(e).getDownloadURL().then(function(e){fetch(e).then(function(){var t=new Audio(e);t.addEventListener("loadeddata",function(){a.setState({metadataLoaded:!0})}),t.addEventListener("ended",function(){a.setState({isPlaying:!1})}),a.setState({audioFile:t})})}).catch(function(){return console.log("ERROR. Firebase audio file failed to load.")})},a.loadFileName=function(){var e=a.props.audioURL;a.setState({fileName:F.storage().ref().child(e).name})},a.state={audioFile:void 0,fileName:"",metadataLoaded:!1,isPlaying:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.audioFile;this.loadFileName(),e||this.loadAudio()}},{key:"componentWillUnmount",value:function(){var e=this.state.audioFile;e&&e.pause(),this.loadAudio()}},{key:"render",value:function(){var e=this.state,t=e.audioFile,a=e.fileName,n=e.metadataLoaded,l=e.isPlaying,o=t&&n?this.formattedAudioDuration():"X:XX";return r.a.createElement("div",{style:{border:"1px solid gray",borderRadius:"5px",display:"flex",padding:"15px",margin:"10px 0 10px 0"}},r.a.createElement("div",{style:{alignSelf:"center",flex:3}},a),r.a.createElement("div",{style:{alignSelf:"center",flex:0}},o),r.a.createElement("div",{style:{flex:0}},r.a.createElement(oe,{disabled:void 0===t,onClick:this.handleClick,type:"transparent"},l?r.a.createElement(Me.a,{color:"primary",style:{float:"right",marginLeft:"25px"}}):r.a.createElement(Te.a,{color:"primary",style:{float:"right",marginLeft:"25px"}}))))}}]),t}(r.a.Component),Fe=Object(b.withStyles)(J)(_e),Pe=function(e){var t=e.classes,a=e.label,n=e.defaultValue,l=e.fullWidth,o=e.value;return r.a.createElement(Z.a,{fullWidth:l,id:"standard-read-only-input",label:a,defaultValue:n,margin:"normal",InputLabelProps:{shrink:!0,className:t.readOnlyLabel},InputProps:{className:t.readOnlyInput,readOnly:!0},value:o})},Le=Object(b.withStyles)(J)(Pe);Pe.defaultProps={defaultValue:"",fullWidth:!1,label:""};var ze=a(259),Ve=a.n(ze),Ye=a(119),We=a.n(Ye),Re=a(18),Be=a.n(Re),Ue=a(26),Je=a(258),Ke=a.n(Je),He=function(e,t){Y.collection(e).doc(t).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error deleted document: ",e)})},$e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleDuplicate=Object(Ue.a)(Be.a.mark(function e(){return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.handleDup(),a.handleClose();case 2:case"end":return e.stop()}},e)})),a.handleClose=function(){a.setState({anchorEl:void 0})},a.handleDelete=Object(Ue.a)(Be.a.mark(function e(){var t,n,r;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.collectionName,r=t.docId,e.next=3,He(n,r);case 3:a.setState({anchorEl:void 0});case 4:case"end":return e.stop()}},e)})),a.state={anchorEl:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(Ke.a,{"aria-owns":e&&"simple-menu","aria-haspopup":"true",onClick:this.handleClick,style:{cursor:"pointer"}}),r.a.createElement(D.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(N.a,{onClick:this.handleDuplicate},"Duplicate"),r.a.createElement(N.a,{onClick:this.handleDelete},"Delete")))}}]),t}(r.a.Component),Ge=_()(J)($e);$e.defaultProps={handleDup:function(){}};var Xe=function(e){var t=e.classes,a=e.collectionName,n=e.docId,l=e.edit,o=e.handleDup,c=e.onEditClick,i=e.shouldShowDropdown,s=e.title;return r.a.createElement(We.a,{classes:{root:t.dfdialog_title},disableTypography:!0,id:"form-dialog-title"},s,r.a.createElement("div",{style:{float:"right",color:"black"}},l&&r.a.createElement(Ve.a,{classes:{root:t.dfdialog_editIcon},onClick:c}),i&&r.a.createElement(Ge,{collectionName:a,docId:n,handleDup:o})))},qe=Object(b.withStyles)(J)(Xe);Xe.defaultProps={docId:"",edit:!1,handleDup:function(){},onEditClick:null,shouldShowDropdown:!1};var Ze=a(87),Qe=a.n(Ze),et=a(27),tt=a.n(et),at=a(169),nt=a.n(at),rt="https://dancefest-backend-app-inital.herokuapp.com",lt=function(e){var t={url:e,baseURL:rt,method:"get"};return nt.a.request(t)},ot=function(e,t){var a={url:e,baseURL:rt,method:"post",data:t};return nt.a.request(a)},ct=function(e,t){return ot("adjudications/".concat(e),tt.a.decamelizeKeys(t)).then(function(e){return tt.a.camelizeKeys(e)})},it=a(260),st=a.n(it),ut=a(168),dt=a.n(ut),pt=a(261),mt=a.n(pt),ht=a(262),ft=a.n(ht),vt=function(e){var t=e.row,a=e.choices,n=e.label,l=e.onChange;return r.a.createElement(dt.a,null,n&&r.a.createElement(Oe.a,null,n),r.a.createElement(st.a,{row:t},a.map(function(e){return r.a.createElement(mt.a,{key:e.value,control:r.a.createElement(ft.a,{color:"primary",name:e.name,checked:e.checked,onChange:l,value:e.value}),label:e.label})})))};vt.defaultProps={label:null,onChange:function(){},row:!1};var bt=Object(b.withStyles)(J)(vt),Et=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,["artisticMark","technicalMark"].includes(n)?parseInt(r,10):r))},a.handleCheckedAward=function(e){var t=e.target,n=t.name,r=t.checked;a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){var e=a.props,t=e.onModalClose,n=e.handleView;e.view?t():n()},a.getAwardConsderationEnumAction=function(e,t){var a=ke.DECREMENT,n=ke.INCREMENT,r=ke.NO_CHANGE;return Qe()(e,t)?r:e?n:a},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o,c,i,s,u,d,p,m,h,f,v,b,E;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.adjudicationId,t.collectionName,r=t.currentValues,l=r.audioUrl,o=r.choreoAward,c=r.judgeName,i=r.notes,s=r.specialAward,t.updateData,u=a.state,d=u.artisticMark,p=u.choreoAward,m=u.specialAward,h=u.technicalMark,f=(parseInt(d,10)+parseInt(h,10))/2,a.getAwardConsderationEnumAction(p,o),a.getAwardConsderationEnumAction(m,s),v=Object(X.a)({cumulativeMark:f,judgeName:c||"",notes:i},a.state),l&&Object.assign(v,l),e.next=9,ct(n,v);case 9:b=e.sent,E=b.data,a.setState({updatedAdjudication:E},a.handleModalClose);case 12:case"end":return e.stop()}},e)})),a.handleModalClose=function(){var e=a.state.updatedAdjudication;(0,a.props.onModalClose)(e)};var n=e.currentValues;return a.state={artisticMark:n.artisticMark,choreoAward:n.choreoAward||!1,specialAward:n.specialAward||!1,technicalMark:n.technicalMark},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentValues.notes,n=this.state,l=n.artisticMark,o=n.choreoAward,c=n.specialAward,i=n.technicalMark,s=[{checked:c,label:"Special Award",name:"specialAward",value:"specialAward"},{checked:o,label:"Choreography Award",name:"choreoAward",value:"choreoAward"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexFlow:"column",margin:"25px"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement(ee,{type:"number",value:l,name:"artisticMark",label:"Artistic",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement(ee,{type:"number",value:i,name:"technicalMark",label:"Technical",onChange:this.handleChange}))),r.a.createElement(ee,{fullWidth:!0,disabled:!0,multiline:!0,name:"notes",value:a,label:"Notes"}),r.a.createElement(bt,{label:"Award Considerations",choices:s,onChange:this.handleCheckedAward})),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{type:"default",onClick:this.handleCancel},"cancel"),r.a.createElement(oe,{type:"primary",onClick:this.handleSubmit},"save"))))}}]),t}(r.a.Component);Et.defaultProps={currentValues:{}};var gt=Object(b.withStyles)(J)(Et),yt=function(e){var t=e.type,a=e.score,n=e.scoreName,l="subtotal"===t?{flex:3,backgroundColor:"#cfcfcf",height:"100%",margin:"0",borderRight:"3px solid white",textAlign:"center"}:{flex:1,backgroundColor:"#c61100",height:"100%",margin:"0",textAlign:"center",color:"white"};return r.a.createElement("div",{style:l},r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement("span",{style:{fontSize:"36px",fontWeight:"bold"}},a),r.a.createElement("span",{style:{color:"#99999"}},n)))},Ct=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,view:!0},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){var t=a.props.updateData;a.setState({open:!1,view:!0},function(){return t(e)})},a.handleView=function(){a.setState(function(e){return{view:!e.view}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.adjudicationId,a=e.collectionName,n=e.currentValues,l=e.performanceValues,o=e.updateData,c=this.state,i=c.open,s=c.view,u=n.artisticMark,d=n.audioUrl,p=n.choreoAward,m=n.cumulativeMark,h=n.notes,f=n.specialAward,v=n.tabletId,b=n.technicalMark,E=l.academicLevel,g=l.choreographers,y=l.competitionLevel,C=l.danceEntry,O=l.danceStyle,j=l.danceSize,w=l.danceTitle,k=l.performers,S=l.school,x=function(e){return e||"N/A"},D=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexFlow:"column",margin:"35px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #dcdcdc"}},r.a.createElement("div",{style:{flex:"1 0 0"}},r.a.createElement(Le,{value:x(C),label:"Dance Entry"}),r.a.createElement(Le,{value:x(w),label:"Dance Title"}),r.a.createElement(Le,{value:x(k),label:"Performers"}),r.a.createElement(Le,{value:x(g),label:"Choreographer"})),r.a.createElement("div",{style:{flex:"1 0 0"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Le,{value:x(S),label:"School"}),r.a.createElement(Le,{value:x(E),label:"Level"})),r.a.createElement(Le,{value:x(y),label:"Competition Level"}),r.a.createElement(Le,{value:x(O),label:"Dance Style",helperText:"  "}),r.a.createElement(Le,{value:x(j),label:"Dance Size"}))),r.a.createElement(Le,{fullWidth:!0,label:"Notes",value:h}),d&&r.a.createElement(Fe,{audioURL:d}),r.a.createElement(Oe.a,null,"Award Considerations"),f&&r.a.createElement("div",null,r.a.createElement(Ee.a,{fontSize:"inherit",color:"primary"}),"Special Award"),p&&r.a.createElement("div",null,r.a.createElement(Ee.a,{fontSize:"inherit",color:"inherit",style:{color:"purple"}}),"Choreography Award")),r.a.createElement(ye.a,{style:{display:"flex",height:"75px",padding:"0",margin:"0"}},r.a.createElement(yt,{type:"subtotal",score:x(u),scoreName:"Artistic"}),r.a.createElement(yt,{type:"subtotal",score:x(b),scoreName:"Technical"}),r.a.createElement(yt,{type:"total",score:x(m),scoreName:"Score"}))),A=r.a.createElement(gt,{updateData:o,adjudicationId:t,collectionName:a,currentValues:n,handleView:this.handleView,onModalClose:this.handleClose,view:s});return r.a.createElement(Ae,{open:i,formType:"edit",buttonTitle:"edit",onClick:this.handleClickOpen,onClose:this.handleClose},r.a.createElement(qe,{collectionName:a,docId:t,edit:s,onEditClick:this.handleView,shouldShowDropdown:!0,title:v||"N/A"}),s?D:A)}}]),t}(r.a.Component),Ot=Object(b.withStyles)(J)(Ct),jt=function(e){var t=e.collectionName,a=e.currentValues,n=e.id,l=e.performanceValues,o=e.updateData,c=a.audioUrl,i=a.artisticMark,s=a.choreoAward,u=a.cumulativeMark,d=a.specialAward,p=a.tabletId,m=a.technicalMark;return r.a.createElement(ve.a,{key:n},r.a.createElement(he.a,null,p),r.a.createElement(he.a,null,r.a.createElement("p",null,c?"yes":"no")),r.a.createElement(he.a,null,i),r.a.createElement(he.a,null,m),r.a.createElement(he.a,null,u),r.a.createElement(he.a,null,d&&r.a.createElement(Ee.a,{fontSize:"inherit",color:"primary"}),s&&r.a.createElement(Ee.a,{fontSize:"inherit",style:{color:"purple"}})),r.a.createElement(he.a,null,r.a.createElement(Ot,{updateData:o,adjudicationId:n,collectionName:t,currentValues:a,performanceValues:l})))},wt=a(269),kt=a.n(wt),St=a(270),xt=a.n(St),Dt=a(263),At=a.n(Dt),Nt=a(264),Tt=a.n(Nt),It=a(265),Mt=a.n(It),_t=Object(b.withStyles)(J)(function(e){var t,a,n,l=e.classes,o=e.type;switch(o){case"event":t=Tt.a,a="Create your first event",n="Empty Events Page";break;case"adjudication":t=At.a,a="Adjudications will be synced following the event",n="Empty Adjudications Page";break;case"performance":default:t=Mt.a,a="Create your first performance",n="Empty Performances Page"}return r.a.createElement("div",{className:l.emptyState_wrapper},r.a.createElement("div",{className:l.emptyState_content},r.a.createElement("img",{src:t,alt:"Empty ".concat(o," Section"),width:"300"}),r.a.createElement("p",{className:l.emptyState_title},n),r.a.createElement("p",{className:l.emptyState_subtitle},a)))}),Ft=a(266),Pt=a.n(Ft),Lt=function(e){var t=e.classes,a=e.color,n=e.height,l=e.type,o=e.width;return r.a.createElement("div",{className:t.loading_wrapper},r.a.createElement(Pt.a,{color:a,height:n,type:l,width:o}))};Lt.defaultProps={color:"#de2706",height:50,type:"spin",width:50};var zt=Object(b.withStyles)(J)(Lt),Vt=a(267),Yt=a.n(Vt),Wt=function(e){var t=e.classes,a=e.history,n=e.renderNewButton,l=e.title;return r.a.createElement("div",{className:t.sectionHeaderWrapper},r.a.createElement("div",{className:t.sectionHeaderBackButton},r.a.createElement(oe,{type:"default",onClick:function(){a.goBack()}},r.a.createElement(Yt.a,null))),r.a.createElement(S.a,{variant:"h3"},"".concat(l,"s")),!!n&&r.a.createElement("div",{className:t.sectionHeaderAction},n))};Wt.defaultProps={renderNewButton:null};var Rt=Object(G.a)(Object(b.withStyles)(J)(Wt)),Bt=a(268),Ut=a.n(Bt),Jt=Object(b.withStyles)(J)(function(e){var t=e.headings;return r.a.createElement(Ut.a,null,r.a.createElement(ve.a,null,t.map(function(e){return r.a.createElement(he.a,{key:e},e)}),r.a.createElement(he.a,null)))}),Kt=function(e){var t=e.children,a=e.headings,n=e.loading,l=e.showContent,o=e.renderNewButton,c=e.tableFilters,i=e.type,s=l?r.a.createElement(r.a.Fragment,null,c,r.a.createElement(kt.a,null,r.a.createElement(Jt,{headings:a}),r.a.createElement(xt.a,null,t))):r.a.createElement(_t,{type:i});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rt,{renderNewButton:o,title:i}),n?r.a.createElement(zt,null):s)};Kt.defaultProps={renderNewButton:null,tableFilters:null};var Ht=Object(b.withStyles)(J)(Kt),$t=function(e){return ot("performances/",tt.a.decamelizeKeys(e)).then(function(e){return tt.a.camelizeKeys(e)})},Gt=function(e,t){return ot("performances/".concat(e),tt.a.decamelizeKeys(t)).then(function(e){return tt.a.camelizeKeys(e)})},Xt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).updateAdjudications=function(e){var t=a.state.adjudications,n=Object.assign({},t,Object(W.a)({},e.id,e));a.setState({adjudications:n})},a.state={adjudications:{},loading:!0,performanceValues:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.performanceId;(function(e){return lt("performances/".concat(e))})(a).then(function(e){var a=e.data;t.setState({performanceValues:tt.a.camelizeKeys(a)})}),(e=a,lt("performances/".concat(e,"/adjudications")).then(function(e){return tt.a.camelizeKeys(e)})).then(function(e){var a=e.data;t.setState({adjudications:a,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=t.eventId,n=t.performanceId,l=this.state,o=l.adjudications,c=l.loading,i=l.performanceValues,s="events/".concat(a,"/performances/").concat(n,"/adjudications"),u=["artisticMark","audioUrl","choreoAward","cumulativeMark","notes","specialAward","tabletId","technicalMark"],d=Object.values(o),p=d.length>0;return r.a.createElement(Ht,{headings:["Tablet ID","Audio","Artistic Score","Technical Score","Cumulative Score","Awards"],loading:c,showContent:p,type:"adjudication"},p&&d.map(function(t){var a=t.id,n=pe()(t,u);return r.a.createElement(jt,{updateData:e.updateAdjudications,collectionName:s,currentValues:n,key:a,performanceValues:i,id:a})}))}}]),t}(r.a.Component),qt=a(277),Zt=a(120),Qt=a.n(Zt),ea=a(58),ta=a.n(ea),aa=function(e){return ot("/events/",e)},na=function(e,t){return ot("/events/".concat(e),t)},ra=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value,l=r.includes("-");"eventDate"===n&&r?a.setState(Object(W.a)({},n,l?ta()(r,"YYYY-MM-DD").format("DD/MM/YYYY"):ta()(r,"MM/DD/YYYY").format("DD/MM/YYYY"))):a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){a.handleModalClose()},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o,c,i,s,u,d;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.eventId,r=t.formType,l=t.onUpdate,o=a.state,c=o.eventDate,i=o.eventTitle,s=o.numJudges,u={event_date:new Date(ta()(c,"DD/MM/YYYY").format("MM-DD-YYYY")),event_title:i,num_judges:s},"http://127.0.0.1:5000/",r!==xe.NEW){e.next=9;break}return e.next=7,aa(u);case 7:e.next=13;break;case 9:return e.next=11,na(n,u);case 11:d=e.sent,l(d.data);case 13:a.handleModalClose();case 14:case"end":return e.stop()}},e)})),a.handleModalClose=function(){(0,a.props.onModalClose)()};var n=e.currentValues;return a.state={disabledSave:!0,eventDate:n.eventDate||ta()().format("DD/MM/YYYY"),eventTitle:n.eventTitle||"",numJudges:n.numJudges||0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.formType,n=this.state,l=n.disabledSave,o=n.eventTitle,c=n.eventDate,i=n.numJudges;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"25px"}},r.a.createElement(ee,{fullWidth:!0,name:"eventTitle",label:"Event Title",onChange:this.handleChange,value:o}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ee,{fullWidth:!0,inputLabelProps:{shrink:!0},name:"eventDate",label:"Event Date",onChange:this.handleChange,style:{marginRight:"5px"},type:"date",value:c?ta()(c,"DD/MM/YYYY").format("YYYY-MM-DD"):"",variant:"filled"}),r.a.createElement(ee,{fullWidth:!0,name:"numJudges",label:"No. Judges",onChange:this.handleChange,type:"number",value:i}))),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{onClick:this.handleCancel,type:"default"},a===xe.EDIT?"cancel":"discard"),r.a.createElement(oe,{disabled:l,onClick:this.handleSubmit,type:"primary"},"Save"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=pe()(t,["eventDate","eventTitle","numJudges"]);return{disabledSave:!Object.keys(a).every(function(e){return!!t[e]})}}}]),t}(r.a.Component);ra.defaultProps={currentValues:{},formType:xe.EDIT};var la=Object(b.withStyles)(J)(ra),oa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.eventId,n=e.formType,l=e.onUpdate,o=this.state.open,c=xe.EDIT,i=n===c?"Edit":"New",s=r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{fontSize:"small",style:{color:"gray",marginRight:"5px"}}),"NEW EVENT"),u=n===c?"EDIT":s;return r.a.createElement(Ae,{open:o,buttonTitle:u,formType:n,onClick:this.handleClickOpen,onClose:this.handleClose},r.a.createElement(qe,{collectionName:"events",docId:a,shouldShowDropdown:!0,title:"".concat(i," Event")}),r.a.createElement(la,{currentValues:t,eventId:a,formType:n,onModalClose:this.handleClose,onUpdate:l}))}}]),t}(r.a.Component);oa.defaultProps={currentValues:{},eventId:null,formType:xe.EDIT};var ca=Object(b.withStyles)(J)(oa),ia=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.id,n=e.onUpdate,l=t.eventTitle,o=t.eventDate,c=t.numJudges;return r.a.createElement(ve.a,null,r.a.createElement(he.a,null,r.a.createElement(y.a,{to:"/events/".concat(a,"/performances")},l)),r.a.createElement(he.a,null,o?ta()(o).format("YYYY-MM-DD"):""),r.a.createElement(he.a,null,0),r.a.createElement(he.a,null,c),r.a.createElement(he.a,null,r.a.createElement(ca,{formType:"edit",eventId:a,currentValues:t,onUpdate:n})))}}]),t}(r.a.Component);ia.defaultProps={currentValues:{},id:null};var sa=ia,ua=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleUpdate=function(e){var t=Object(qt.a)(a.state.events.filter(function(t){return t.id!==e.id}));t.push(tt.a.camelizeKeys(e)),a.setState({events:t})},a.state={events:null,loading:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;lt("events").then(function(t){var a=Object.values(t.data).map(function(e){return tt.a.camelizeKeys(e)});e.setState({events:a,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.loading,l=["eventDate","eventTitle","numJudges"],o=r.a.createElement(ca,{formType:"new"}),c=Array.isArray(a)&&a.length>0;return r.a.createElement(Ht,{headings:["Event Title","Event Date","No. Performances","No. Judges"],loading:n,renderNewButton:o,showContent:c,type:"event"},c&&a.map(function(t){var a=t.id,n=pe()(t,l);return r.a.createElement(sa,{currentValues:n,id:a,key:a,onUpdate:e.handleUpdate})}))}}]),t}(r.a.Component),da=a(271),pa=a.n(da),ma=function(e){var t=e.className,a=e.fullWidth,n=e.helperText,l=e.label,o=e.name,c=e.onChange,i=e.options,s=e.style,u=e.value;return r.a.createElement(Z.a,{className:t,style:Object(X.a)({margin:"0 5px 25px 5px"},s),fullWidth:a,helperText:n,id:"filled-select-currency",select:!0,label:l,name:o,SelectProps:{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}}},value:u,onChange:c,margin:"normal",variant:"filled"},i.map(function(e){return r.a.createElement(N.a,{key:e.value,value:e.value},e.value)}))},ha=ma;ma.defaultProps={className:null,fullWidth:!1,helperText:null,label:null,onChange:function(){},options:[],style:null,value:""};var fa=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){(0,a.props.onModalClose)()},a.handleModalClose=function(){(0,a.props.onModalClose)()},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o,c,i,s;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.formType,r=t.performanceId,l=t.updateData,o=t.createData,c=pa()(a.state,["disabledSave","options"]),n!==xe.NEW){e.next=9;break}return e.next=5,$t(c);case 5:i=e.sent,o(i.data),e.next=13;break;case 9:return e.next=11,Gt(r,c);case 11:s=e.sent,l(s.data);case 13:a.handleModalClose();case 14:case"end":return e.stop()}},e)})),a.renderOptions=function(e){return e?e.map(function(e){return{value:e}}):[]};var n=e.currentValues,r=e.eventId;return a.state={academicLevel:n.academicLevel||"",choreographers:n.choreographers||"",competitionLevel:n.competitionLevel||"",danceEntry:n.danceEntry,danceSize:n.danceSize||"N/A",danceStyle:n.danceStyle||"",danceTitle:n.danceTitle||"",disabledSave:!0,options:{},performers:n.performers||"",school:n.school||"",eventId:r},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subscribe=Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){a[e.id]=Object.keys(e.data())}),e.setState({options:a})})}},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.formType,n=this.state,l=n.academicLevel,o=n.choreographers,c=n.competitionLevel,i=n.danceEntry,s=n.danceSize,u=n.danceStyle,d=n.danceTitle,p=n.disabledSave,m=n.options,h=n.performers,f=n.school;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"25px 25px 0"}},r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,label:"Dance Entry",name:"danceEntry",onChange:this.handleChange,type:"number",value:i}),r.a.createElement("div",{className:t.flex_default},r.a.createElement(ha,{fullWidth:!0,label:"School",name:"school",onChange:this.handleChange,options:this.renderOptions(m.school),value:f}),r.a.createElement(ha,{fullWidth:!0,label:"Level",name:"academicLevel",onChange:this.handleChange,options:this.renderOptions(m.academicLevel),value:l}))),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,label:"Dance Title",name:"danceTitle",onChange:this.handleChange,value:d}),r.a.createElement(ha,{className:t.flex_default,label:"Competition Level",name:"competitionLevel",onChange:this.handleChange,options:this.renderOptions(m.competitionLevel),value:c})),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,helperText:"Comma separated, eg. John Smith, Jane Doe",label:"Performers",name:"performers",onChange:this.handleChange,value:h}),r.a.createElement(ha,{className:t.flex_default,label:"Dance Style",name:"danceStyle",onChange:this.handleChange,options:this.renderOptions(m.danceStyle),value:u})),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,helperText:"Comma separated, eg. John Smith, Jane Doe",label:"Choreographers",name:"choreographers",onChange:this.handleChange,value:o}),r.a.createElement(ha,{className:t.flex_default,label:"Size",name:"danceSize",onChange:this.handleChange,options:this.renderOptions(m.danceSize),value:s}))),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{type:"default",onClick:this.handleCancel},a===xe.EDIT?"cancel":"discard"),r.a.createElement(oe,{disabled:p,onClick:this.handleSubmit,type:"primary"},"Save"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=pe()(t,["academicLevel","choreographers","competitionLevel","danceEntry","danceSize","danceStyle","danceTitle","performers","school"]);return{disabledSave:!Object.keys(a).every(function(e){return!!t[e]})}}}]),t}(r.a.Component);fa.defaultProps={currentValues:{},formType:xe.EDIT};var va=Object(b.withStyles)(J)(fa),ba=function(){var e=Object(Ue.a)(Be.a.mark(function e(t,a){return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Y.collection(t).add(a).then(function(){return console.log("Document successfully added!")}).catch(function(e){return console.error("Error writing document: ",e),!1});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Ea=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(){a.setState({open:!1})},a.handleDup=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentValues,r=t.eventId,l=Object(X.a)({},n,{danceTitle:"".concat(n.danceTitle," Duplicate")}),o="events/".concat(r,"/performances"),e.next=5,ba(o,l);case 5:a.handleClose();case 6:case"end":return e.stop()}},e)})),a.handleClickOpen=function(){a.setState({open:!0})},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateData,a=e.createData,n=e.currentValues,l=e.eventId,o=e.formType,c=e.performanceId,i=this.state.open,s="events/".concat(l,"/performances"),u=o===xe.EDIT,d=o===xe.EDIT?"Edit":"New",p=o===xe.EDIT?"EDIT":r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt.a,{style:{color:"gray",marginRight:"5px"}}),"NEW PERFORMANCE"),m="".concat(d," Performance");return r.a.createElement(Ae,{buttonTitle:p,formType:o,onClick:this.handleClickOpen,onClose:this.handleClose,open:i},r.a.createElement(qe,{collectionName:s,docId:c,handleDup:this.handleDup,shouldShowDropdown:u,title:m}),r.a.createElement(va,{collectionName:s,currentValues:n,formType:o,onModalClose:this.handleClose,performanceId:c,updateData:t,createData:a,eventId:l}))}}]),t}(r.a.Component);Ea.defaultProps={collectionName:"",currentValues:{},formType:xe.EDIT,performanceId:null};var ga=Object(b.withStyles)(J)(Ea),ya=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.updateData,a=e.createData,n=e.currentValues,l=e.eventId,o=e.id,c=n.academicLevel,i=n.competitionLevel,s=n.danceEntry,u=n.danceSize,d=n.danceStyle,p=n.danceTitle,m=n.school;return r.a.createElement(ve.a,{style:{}},r.a.createElement(he.a,null,r.a.createElement(y.a,{to:"performance/".concat(o,"/adjudications")},p)),r.a.createElement(he.a,null,s),r.a.createElement(he.a,null,m),r.a.createElement(he.a,null,c),r.a.createElement(he.a,null,i),r.a.createElement(he.a,null,d),r.a.createElement(he.a,null,u),r.a.createElement(he.a,null,r.a.createElement(ga,{updateData:t,createData:a,currentValues:n,eventId:l,formType:"edit",performanceId:o})))}}]),t}(r.a.Component);ya.defaultProps={currentValues:{}};var Ca=ya,Oa=a(85),ja=a.n(Oa),wa=a(274),ka=a.n(wa),Sa=a(273),xa=a.n(Sa),Da=a(272),Aa=a.n(Da),Na=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e){a.anchorElement||a.setState({anchorElement:e.currentTarget}),a.setState({menuOpen:!a.menuOpen})},a.handleSubMenuClose=function(){a.setState({menuOpen:!1})},a.state={menuOpen:!1,anchorElement:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.choices,n=e.classes,l=e.onChange,o=this.state,c=o.anchorElement,i=o.menuOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{onClick:this.handleItemClick,className:ae()(n.subMenuItem)},t,r.a.createElement(Aa.a,null)),r.a.createElement(D.a,{anchorEl:c,anchorOrigin:{horizontal:"right",vertical:"top"},classes:{paper:n.subMenuOptions},getContentAnchorEl:null,onClose:this.handleSubMenuClose,open:i,transformOrigin:{horizontal:"left",vertical:"top"}},r.a.createElement(bt,{choices:a,onChange:l})))}}]),t}(r.a.Component),Ta=_()(J)(Na),Ia=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.aggregateChoices=function(e,t){var n=a.props.filtered;return t.map(function(t){return{checked:n[e].includes(t),label:t,name:e,value:t}})},a.renderMenuItems=function(e){return Object.keys(e).map(function(t,n){var l=a.props.handleFilterChecked,o=a.aggregateChoices(t,e[t]),c="".concat(t,"-").concat(n),i=t.replace(/([A-Z])/g," $1"),s=i.charAt(0).toUpperCase()+i.slice(1);return r.a.createElement(Ta,{caption:s,choices:o,key:c,onChange:l})})},a.state={anchorEl:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props,a=t.handleFilterClearAll,n=t.options,l=n&&this.renderMenuItems(n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{onClick:this.handleMenuOpen},"Filter",r.a.createElement(xa.a,null)),r.a.createElement(D.a,{anchorEl:e,anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null,transformOrigin:{horizontal:"left",vertical:"top"},onClose:this.handleMenuClose,open:Boolean(e)},l,r.a.createElement("hr",null),r.a.createElement(N.a,{onClick:a},"Clear All Filters")))}}]),t}(r.a.Component),Ma=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFilterClearAll=function(){return a.setState({filtered:{academicLevel:[],awardConsideration:[],competitionLevel:[],danceSize:[],danceStyle:[],school:[]},search:void 0})},a.handleFilterChecked=function(e){var t=e.target,n=t.name,r=t.value,l=t.checked;a.setState(function(e){var t=e.filtered[n],a=l?t.concat(r):t.filter(function(e){return e!==r});return{filtered:Object(X.a)({},e.filtered,Object(W.a)({},n,a))}})},a.handleInputChange=function(e){var t=e.target.value;a.setState({search:t})},a.state={filtered:{academicLevel:[],awardConsideration:[],competitionLevel:[],danceSize:[],danceStyle:[],school:[]},options:{},search:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subscribe=Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){a[e.id]=Object.keys(e.data())}),e.setState({options:a})})}},{key:"componentDidUpdate",value:function(e,t){var a=t.filtered,n=t.search,r=this.state,l=r.filtered,o=r.search,c=this.props.handleFilters;Qe()(a,l)&&Qe()(n,o)||c(l,o)}},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"render",value:function(){var e=this.state,t=e.filtered,a=e.options,n=e.search,l=t.awardConsideration,o=this.props.classes,c=[{checked:l.includes("specialAward"),name:"awardConsideration",value:"specialAward",label:r.a.createElement(r.a.Fragment,null,"Special Award Only",r.a.createElement(Ee.a,{color:"primary",fontSize:"inherit",style:{marginLeft:"5px",verticalAlign:"middle"}}))},{checked:l.includes("choreoAward"),name:"awardConsideration",value:"choreoAward",label:r.a.createElement(r.a.Fragment,null,"Choreography Awards Only",r.a.createElement(Ee.a,{fontSize:"inherit",style:{color:"purple",marginLeft:"5px",verticalAlign:"middle"}}))}];return r.a.createElement("div",{style:{display:"flex",height:"40px"}},r.a.createElement("div",{className:o.header_search},r.a.createElement("div",{className:o.header_searchIcon},r.a.createElement(ka.a,null)),r.a.createElement(ja.a,{placeholder:"Search",disableUnderline:!0,classes:{root:o.header_inputRoot,input:o.header_inputInput},name:"search",onChange:this.handleInputChange,value:n})),r.a.createElement(Ia,{filtered:t,handleFilterClearAll:this.handleFilterClearAll,handleFilterChecked:this.handleFilterChecked,options:a}),r.a.createElement(bt,{row:!0,choices:c,onChange:this.handleFilterChecked}))}}]),t}(r.a.Component),_a=Object(b.withStyles)(J)(Ma),Fa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getFilterKeys=function(e){return Object.keys(e).reduce(function(t,a){return e[a].length>0&&t.push(a),t},[])},a.updatePerformances=function(e){var t=a.state.performances.map(function(t){return e.id===t.id?e:t});t=t.sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)}),a.setState({performances:t,filteredPerformances:t})},a.createPerformance=function(e){var t=a.state.performances.concat([e]);t=t.sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)}),a.setState({performances:t,filteredPerformances:t})},a.handleFilters=function(e,t){var n=a.state.performances,r=a.getFilterKeys(e),l=n.filter(function(a){var n=r.every(function(t){return"awardConsideration"===t?e[t].includes("choreoAward")?a.choreoAwardEnum>0:!e[t].includes("specialAward")||a.specialAwardEnum>0:e[t].includes(a[t])});if(t&&t.length>0){var l=[a.danceTitle,a.performers,a.choreographers],o=t.toLowerCase();try{return n&&l.find(function(e){return-1!==e.toLowerCase().search(o)})}catch(c){return n&&l.find(function(e){return null})}}return n}).sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)});a.setState({filteredPerformances:l})},a.state={filteredPerformances:null,loading:!0,performances:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.eventId;(e=a,lt("events/".concat(e,"/performances"))).then(function(e){var a=Object.values(e.data).map(function(e){return tt.a.camelizeKeys(e)});a=a.sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)}),t.setState({filteredPerformances:a,loading:!1,performances:a})}).catch(function(e){console.log(e),t.setState({loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredPerformances,n=t.loading,l=t.performances,o=this.props.match.params.eventId,c=["academicLevel","choreographers","competitionLevel","danceEntry","danceSize","danceStyle","danceTitle","performers","school"],i=r.a.createElement(ga,{updateData:this.updatePerformances,createData:this.createPerformance,eventId:o,formType:"new"}),s=Array.isArray(l)&&l.length>0,u=r.a.createElement(_a,{handleFilters:this.handleFilters});return r.a.createElement(Ht,{headings:["Dance Title","Dance Entry","School","Academic Level","Level of Competition","Dance Style","Dance Size"],loading:n,renderNewButton:i,showContent:s,tableFilters:u,type:"performance"},s&&a.map(function(t){var a=t.id,n=pe()(t,c);return r.a.createElement(Ca,{updateData:e.updatePerformances,createData:e.createPerformance,currentValues:n,eventId:o,id:a,key:a})}))}}]),t}(r.a.Component),Pa=function(){var e=Object(Ue.a)(Be.a.mark(function e(t,a){var n,r,l=arguments;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:Se.ADD_DATA,r=n===Se.ADD_DATA?a:V.delete(),Y.collection("settings").doc(t).set(Object(W.a)({},a,r),{merge:!0}).then(function(){console.log("Document successfully!")}).catch(function(e){return console.error("Error writing document: ",e),!1});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),La=a(276),za=a.n(La),Va=a(275),Ya=a.n(Va),Wa=function(e){var t=e.category,a=e.onClose,n=e.optionName,l=e.showAlert,o=function(){return a()},c=function(){var e=Object(Ue.a)(Be.a.mark(function e(){var a;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Se.DELETE_DATA,e.next=3,Pa(t,n,a);case 3:o();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(we.a,{onClose:o,open:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(We.a,{id:"alert-dialog-title"},"Delete ".concat(n,"?")),r.a.createElement(Ya.a,null,r.a.createElement("p",null,"Deleted categories cannot be restored.")),r.a.createElement(ye.a,null,r.a.createElement(re.a,{onClick:o,color:"secondary"},"Cancel"),r.a.createElement(re.a,{onClick:c,color:"primary",autoFocus:!0},"Delete")))},Ra=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCloseAlert=function(){a.setState({showAlert:!1})},a.handleShowAlert=function(){a.setState({showAlert:!0})},a.state={showAlert:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.category,a=e.optionName,n=this.state.showAlert;return r.a.createElement("div",{style:{width:"100%",marginTop:"5px",marginBottom:"5px"}},r.a.createElement("div",{style:{clear:"both",float:"left",width:"auto"}},"".concat(a," ")),r.a.createElement("div",{style:{float:"right",width:"auto"}},r.a.createElement(za.a,{fontSize:"inherit",onClick:this.handleShowAlert,style:{cursor:"pointer",color:"#99999",verticalAlign:"middle"}}),r.a.createElement(Wa,{category:t,onClose:this.handleCloseAlert,optionName:a,showAlert:n})))}}]),t}(r.a.Component),Ba=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return a.setState({selectedCategory:e.target.value})},a.handleOptionChange=function(e){return a.setState({value:e.target.value})},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.selectedCategory,r=t.value,l=a.toCamelCase(n),e.next=4,Pa(l,r,Se.ADD_DATA);case 4:a.setState({value:""});case 5:case"end":return e.stop()}},e)})),a.toCamelCase=function(e){return e.charAt(0).toLowerCase()+e.replace(/ /g,"").slice(1)},a.state={settings:{},selectedCategory:"Dance Style",value:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){var t=e.id.replace(/([A-Z])/g," $1"),n=e.id.charAt(0).toUpperCase()+t.slice(1);a[n]=Object.keys(e.data())}),e.setState({settings:a})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.selectedCategory,l=a.settings,o=a.value,c=l&&Object.keys(l).map(function(e){return{value:e}}),i=Object.keys(l).length>0&&!!n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Rt,{showNew:!1,title:"setting"}),r.a.createElement("div",{className:t.settings_wrapper},r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("h3",null,"Add new options to categories."),r.a.createElement("p",null,"Ex: try adding the option \u201cHip Hop\u201d to the \u201cDance Style\u201d category.")),l&&r.a.createElement(ha,{fullWidth:!0,label:"Pick a Category",name:"category",onChange:this.handleChange,options:c,value:n}),r.a.createElement(ee,{autoFocus:!0,label:"Enter an Option",name:"option",value:o,onChange:this.handleOptionChange,fullWidth:!0,style:{backgroundColor:"rgb(255, 209, 217)"}}),r.a.createElement(oe,{onClick:this.handleSubmit,type:"secondary"},"ADD OPTION"),r.a.createElement("div",{className:t.settings_view,elevation:0},i&&l[n].map(function(t){var a=e.toCamelCase(n);return r.a.createElement(Ra,{key:t,category:a,optionName:t})}))))}}]),t}(r.a.Component),Ua=Object(b.withStyles)(J)(Ba),Ja=function(e,t){return lt("school/".concat(e,"/").concat(t)).then(function(e){return tt.a.camelizeKeys(e)})},Ka=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={performances:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"loadPerformances",value:function(){var e=Object(Ue.a)(Be.a.mark(function e(){var t,a,n,r;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.eventId,n=t.token,e.next=3,Ja(a,n);case 3:r=e.sent,this.setState({performances:Object.values(r.data)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadPerformances()}},{key:"render",value:function(){var e=this.state.performances;return console.log(e),r.a.createElement("table",null,e&&e.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.danceTitle))}))}}]),t}(r.a.Component),Ha=g()({primary:{main:"#de2706"},secondary:{main:"#000"},text:{primary:"#4d4d4d"}}),$a=Object(b.createMuiTheme)({palette:Ha,typography:{useNextVariants:!0,fontFamily:"'Raleway', sans-serif",fontSize:14,subtitle1:{fontFamily:"'Fjalla One', sans-serif",fontSize:20},h3:{fontFamily:"'Fjalla One', sans-serif",textTransform:"uppercase",fontSize:36,color:"#de2706"}},overrides:{MuiFilledInput:{underline:{"&:after":{borderBottom:"2px solid black"},"&$focused:after":{borderBottom:"2px solid black"}}},MuiInput:{root:{underline:{"&:after":{borderBottom:"2px solid black"},"&$focused:after":{borderBottom:"2px solid black"}}}},MuiFormLabel:{root:{"&$focused":{color:"black",fontWeight:"semi-bold"}},focused:{"&$focused":{color:"black",fontWeight:"semi-bold"}}}}}),Ga=function(e){var t=e.component,a=e.path,n=e.user,l=Object(p.a)(e,["component","path","user"]);return r.a.createElement(m.a,Object.assign({path:a,render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}})}},l))},Xa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,user:z.currentUser},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;z.onAuthStateChanged(function(t){e.setState({loading:!1,user:t})})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.user;return r.a.createElement(b.MuiThemeProvider,{theme:$a},r.a.createElement(f.a,null,t?r.a.createElement(zt,null):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement($,null),r.a.createElement(v.a,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(se,Object.assign({},e,{user:a}))}}),r.a.createElement(Ga,{component:ua,exact:!0,path:"/events",user:a}),r.a.createElement(Ga,{component:Ua,exact:!0,path:"/settings",user:a}),r.a.createElement(Ga,{component:Fa,path:"/events/:eventId/performances",user:a}),r.a.createElement(Ga,{component:Xt,path:"/events/:eventId/performance/:performanceId/adjudications",user:a}),r.a.createElement(m.a,{component:Ka,exact:!0,path:"/school/:eventId/:token"}),r.a.createElement(m.a,{component:ue})))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(Xa,null),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.8bf60638.chunk.js.map