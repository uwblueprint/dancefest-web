(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,a){},250:function(e,t,a){e.exports=a.p+"static/media/background.b1c2db52.jpg"},263:function(e,t,a){e.exports=a.p+"static/media/Adjudications_empty.fb82b41f.png"},264:function(e,t,a){e.exports=a.p+"static/media/Events_empty.48124de9.png"},265:function(e,t,a){e.exports=a.p+"static/media/Performances_empty.6ffa66a7.png"},279:function(e,t,a){e.exports=a(636)},636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),c=(a(171),a(10)),i=a(11),s=a(13),u=a(12),d=a(14),m=a(278),p=a(639),h=a(641),f=a(640),v=a(642),b=a(8),E=a(167),g=a.n(E),y=a(638),C=a(253),w=a.n(C),O=a(254),j=a.n(O),k=a(74),S=a.n(k),x=a(54),D=a.n(x),A=a(35),N=a.n(A),T=a(251),I=a.n(T),M=a(7),_=a.n(M),F=a(76),L=(a(364),F.initializeApp({apiKey:"AIzaSyDpo9MpabGvAvM7j-0ypCuDYD4fWabeNpg",authDomain:"dancefest-198709.firebaseapp.com",databaseURL:"https://dancefest-198709.firebaseio.com",projectId:"dancefest-198709",storageBucket:"dancefest-198709.appspot.com",messagingSenderId:"620228359926"})),P=L.firestore();P.settings({timestampsInSnapshots:!0});var V=L.auth(),z=F.firestore.FieldValue,Y=P,W=a(26),R=a(62),B=a(250),U=a.n(B),J=function(e){return{flex:{display:"flex"},flex_default:{display:"flex",flex:"1 1 0"},link:{color:"inherit",textDecoration:"none","&:hover":{cursor:"pointer",opacity:"0.8"}},header_search:{position:"relative",borderRadius:e.shape.borderRadius,border:"1px solid #DCDCDC",boxShadow:"2px 2px 2px #DCDCDC",backgroundColor:Object(R.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(R.fade)(e.palette.common.white,.25)},minWidth:"300px"},header_searchIcon:{width:5*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},header_inputRoot:{color:"inherit",width:"100%"},header_inputInput:Object(W.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:5*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionHeaderWrapper:{textAlign:"center",position:"relative",marginTop:"25px",marginBottom:"25px"},sectionHeaderAction:{display:"flex",position:"absolute",top:"5px",right:"25px"},sectionHeaderBackButton:{display:"flex",position:"absolute",top:"5px",left:"25px"},title:{textTransform:"uppercase",fontSize:36,color:"#de2706"},table_editButton:{border:"1px solid #cfcfcf",borderRadius:"40px"},dfdialog_title:{color:"#de2706",borderBottom:"1px solid #c4c4c4",margin:"0 35px",padding:"35px 0 15px 0px"},dfdialog_moreIcon:{"&:hover":{cursor:"pointer"}},dfdialog_footer:{backgroundColor:"#F7F7F7",padding:"15px"},readOnlyInput:{fontWeight:"500","&:before":{borderBottom:"none!important"},"&:hover":{borderBottom:"none"},"&:after":{borderBottom:"none"}},readOnlyLabel:{color:"gray!important"},button:{border:"1px solid #4d4d4d",borderRadius:"40px",margin:"auto 5px"},button_login:{border:"1px solid red",borderRadius:"5px",margin:"auto 5px",backgroundColor:"red",color:"white",width:"192px"},button_default:{backgroundColor:"#d4d44",borderColor:"#cfcfcf"},button_primary:{backgroundColor:"black",color:"#fff"},button_secondary:{backgroundColor:"#c61100",color:"#fff",borderColor:"#c61100"},button_outline:{color:"#c61100",borderColor:"#cfcfcf"},button_disabled:{opacity:.7,cursor:"no-drop",color:"#fff!important"},button_transparent:{borderColor:"white"},subMenuItem:{display:"flex",justifyContent:"space-between"},subMenuOptions:{maxHeight:"500px",overflowY:"scroll",outline:"none",padding:"15px;"},settings_wrapper:{flex:1,margin:"0 auto",maxWidth:"700px",textAlign:"center",width:"80%"},settings_view:{alignItems:"center",backgroundColor:"whitesmoke",border:"1px solid #cfcfcf",display:"flex",flexFlow:"column",height:"auto",marginTop:"15px",padding:"15px"},loading_wrapper:{display:"flex",justifyContent:"center",marginTop:"10%"},emptyState_wrapper:{display:"flex",justifyContent:"center"},emptyState_content:{marginTop:"100px",textAlign:"center"},emptyState_title:{fontSize:"20px",textAlign:"center"},emptyState_subtitle:{textAlign:"center"},settingsDropdown_wrapper:{display:"inline",marginLeft:"92%",cursor:"pointer",color:"white"},loginSectionStyle:{width:"100%",height:"100%",backgroundImage:"url(".concat(U.a,")"),backgroundSize:"cover"},loginDialogInput:{borderBottom:"1px solid white"},multilineColor:{color:"white"},dialogSection:{marginTop:"100px",marginLeft:"139px"}}},H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:void 0})},a.handleLogout=function(){V.signOut()},a.state={anchorEl:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes;return r.a.createElement("div",{className:t.settingsDropdown_wrapper},r.a.createElement(I.a,{"aria-owns":e&&"simple-menu","aria-haspopup":"true",onClick:this.handleClick,style:{cursor:"pointer"}}),r.a.createElement(D.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(y.a,{style:{outline:"none",textDecoration:"none"},to:"/settings"},r.a.createElement(N.a,{onClick:this.handleClose},"Settings")),r.a.createElement(N.a,{onClick:this.handleLogout},"Logout")))}}]),t}(r.a.Component),K=_()(J)(H),G=Object(b.withStyles)(J)(function(){return r.a.createElement(w.a,{position:"static",color:"primary"},r.a.createElement(j.a,null,r.a.createElement(y.a,{to:"/events",style:{color:"white",textDecoration:"none"}},r.a.createElement(S.a,{variant:"subtitle1",color:"inherit"},"DANCEFEST")),r.a.createElement(K,null)))}),$=a(643),X=a(34),q=a(75),Z=a.n(q),Q=function(e){var t=e.autoFocus,a=e.name,n=e.className,l=e.disabled,o=e.fullWidth,c=e.helperText,i=e.inputLabelProps,s=e.InputProps,u=e.label,d=e.multiline,m=void 0!==d&&d,p=e.onChange,h=e.placeholder,f=e.style,v=e.type,b=e.value;return r.a.createElement(Z.a,{autoFocus:t,className:n,disabled:l,style:Object(X.a)({margin:"0 5px 25px 5px"},f),helperText:c,InputLabelProps:i,InputProps:s,multiline:m,fullWidth:o,onChange:p,id:a,label:u,name:a,placeholder:h,type:v,value:b,margin:"normal",variant:"filled"})},ee=Q;Q.defaultProps={autoFocus:!1,className:null,disabled:!1,fullWidth:!1,helperText:null,multiline:!1,label:"",onChange:function(){},placeholder:"",style:null,type:null,value:""};var te=a(9),ae=a.n(te),ne=a(55),re=a.n(ne),le=function(e){var t,a=e.buttonType,n=e.classes,l=e.children,o=e.disabled,c=e.type,i=e.onClick;switch(c){case"outline":t=n.button_outline;break;case"secondary":t=n.button_secondary;break;case"primary":t=n.button_primary;break;case"login":t=n.button_login;break;case"transparent":t=n.button_transparent;break;case"default":default:t=n.button_default}var s=o?n.button_disabled:null;return r.a.createElement(re.a,{disabled:o,onClick:function(){return i&&i()},type:a,classes:{root:ae()(s,n.button,t)}},l)};le.defaultProps={buttonType:"submit",disabled:!1};var oe=Object(b.withStyles)(J)(le),ce=function(e){return r.a.createElement("div",{style:{color:"white"}},e)},ie=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleSubmit=function(){var e=a.props.history,t=a.state,n=t.email,r=t.password;return V.onAuthStateChanged(function(t){t?e.push("events"):e.push("/")}),V.signInWithEmailAndPassword(n,r),!1};e.classes;var n=e.history;return e.user&&n.push("/events"),a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=this.props.classes,l={classes:{input:n.multilineColor}};return r.a.createElement("form",{className:n.loginSectionStyle},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"50px"}},r.a.createElement("h4",{style:{fontFamily:"Fjalla One",color:"white",fontSize:"25px"}},"OSSDF DANCEFEST")),r.a.createElement("div",{className:n.dialogSection},r.a.createElement(ee,{className:n.loginDialogInput,value:t,name:"email",InputProps:l,label:ce("Email"),onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(ee,{className:n.loginDialogInput,type:"password",value:a,name:"password",InputProps:l,label:ce("Password"),onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(oe,{buttonType:"button",type:"login",onClick:this.handleSubmit},"Log In")))}}]),t}(r.a.Component);ie.defaultProps={user:null};var se=Object($.a)(Object(b.withStyles)(J)(ie)),ue=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing Page"))},de=a(43),me=a.n(de),pe=a(19),he=a.n(pe),fe=a(56),ve=a.n(fe),be=a(49),Ee=a.n(be),ge=a(44),ye=a.n(ge),Ce=a(86),we=a.n(Ce),Oe=a(118),je=a.n(Oe),ke={NO_CHANGE:"NO_CHANGE",INCREMENT:"INCREMENT",DECREMENT:"DECREMENT"},Se={ADD_DATA:"ADD_DATA",UPDATE_DATA:"UPDATE_DATA",DELETE_DATA:"DELETE_DATA"},xe={NEW:"new",EDIT:"edit"},De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.buttonTitle,a=e.children,n=e.onClick,l=e.onClose,o=e.formType,c=e.open,i=e.width,s=o===xe.EDIT?"default":"outline";return r.a.createElement("div",null,r.a.createElement(oe,{type:s,onClick:n},t),r.a.createElement(je.a,{fullWidth:!0,maxWidth:i,open:c,onClose:l,"aria-labelledby":"form-dialog-title"},a))}}]),t}(r.a.Component);De.defaultProps={width:"sm"};var Ae=Object(b.withStyles)(J)(De),Ne=a(257),Te=a.n(Ne),Ie=a(256),Me=a.n(Ie),_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).formattedAudioDuration=function(){var e=a.state.audioFile.duration;return"".concat(Math.floor(e/60),":").concat(Math.floor(e%60))},a.handleClick=function(){var e=a.state.audioFile;e.paused?(e.play(),a.setState({isPlaying:!0})):(e.pause(),a.setState({isPlaying:!1}))},a.loadAudio=function(){var e=a.props.audioURL;F.storage().ref().child(e).getDownloadURL().then(function(e){fetch(e).then(function(){var t=new Audio(e);t.addEventListener("loadeddata",function(){a.setState({metadataLoaded:!0})}),t.addEventListener("ended",function(){a.setState({isPlaying:!1})}),a.setState({audioFile:t})})}).catch(function(){return console.log("ERROR. Firebase audio file failed to load.")})},a.loadFileName=function(){var e=a.props.audioURL;a.setState({fileName:F.storage().ref().child(e).name})},a.state={audioFile:void 0,fileName:"",metadataLoaded:!1,isPlaying:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.audioFile;this.loadFileName(),e||this.loadAudio()}},{key:"componentWillUnmount",value:function(){var e=this.state.audioFile;e&&e.pause(),this.loadAudio()}},{key:"render",value:function(){var e=this.state,t=e.audioFile,a=e.fileName,n=e.metadataLoaded,l=e.isPlaying,o=t&&n?this.formattedAudioDuration():"X:XX";return r.a.createElement("div",{style:{border:"1px solid gray",borderRadius:"5px",display:"flex",padding:"15px",margin:"10px 0 10px 0"}},r.a.createElement("div",{style:{alignSelf:"center",flex:3}},a),r.a.createElement("div",{style:{alignSelf:"center",flex:0}},o),r.a.createElement("div",{style:{flex:0}},r.a.createElement(oe,{disabled:void 0===t,onClick:this.handleClick,type:"transparent"},l?r.a.createElement(Me.a,{color:"primary",style:{float:"right",marginLeft:"25px"}}):r.a.createElement(Te.a,{color:"primary",style:{float:"right",marginLeft:"25px"}}))))}}]),t}(r.a.Component),Fe=Object(b.withStyles)(J)(_e),Le=function(e){var t=e.classes,a=e.label,n=e.defaultValue,l=e.fullWidth,o=e.value;return r.a.createElement(Z.a,{fullWidth:l,id:"standard-read-only-input",label:a,defaultValue:n,margin:"normal",InputLabelProps:{shrink:!0,className:t.readOnlyLabel},InputProps:{className:t.readOnlyInput,readOnly:!0},value:o})},Pe=Object(b.withStyles)(J)(Le);Le.defaultProps={defaultValue:"",fullWidth:!1,label:""};var Ve=a(259),ze=a.n(Ve),Ye=a(119),We=a.n(Ye),Re=a(18),Be=a.n(Re),Ue=a(25),Je=a(258),He=a.n(Je),Ke=function(e,t){Y.collection(e).doc(t).delete().then(function(){console.log("Document successfully deleted!")}).catch(function(e){console.error("Error deleted document: ",e)})},Ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleDuplicate=Object(Ue.a)(Be.a.mark(function e(){return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.handleDup(),a.handleClose();case 2:case"end":return e.stop()}},e)})),a.handleClose=function(){a.setState({anchorEl:void 0})},a.handleDelete=Object(Ue.a)(Be.a.mark(function e(){var t,n,r;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.collectionName,r=t.docId,e.next=3,Ke(n,r);case 3:a.setState({anchorEl:void 0});case 4:case"end":return e.stop()}},e)})),a.state={anchorEl:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(He.a,{"aria-owns":e&&"simple-menu","aria-haspopup":"true",onClick:this.handleClick,style:{cursor:"pointer"}}),r.a.createElement(D.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(N.a,{onClick:this.handleDuplicate},"Duplicate"),r.a.createElement(N.a,{onClick:this.handleDelete},"Delete")))}}]),t}(r.a.Component),$e=_()(J)(Ge);Ge.defaultProps={handleDup:function(){}};var Xe=function(e){var t=e.classes,a=e.collectionName,n=e.docId,l=e.edit,o=e.handleDup,c=e.onEditClick,i=e.shouldShowDropdown,s=e.title;return r.a.createElement(We.a,{classes:{root:t.dfdialog_title},disableTypography:!0,id:"form-dialog-title"},s,r.a.createElement("div",{style:{float:"right",color:"black"}},l&&r.a.createElement(ze.a,{classes:{root:t.dfdialog_editIcon},onClick:c}),i&&r.a.createElement($e,{collectionName:a,docId:n,handleDup:o})))},qe=Object(b.withStyles)(J)(Xe);Xe.defaultProps={docId:"",edit:!1,handleDup:function(){},onEditClick:null,shouldShowDropdown:!1};var Ze=a(87),Qe=a.n(Ze),et=function(e,t){return(t||0)+(e===ke.DECREMENT?t?-1:0:1)},tt=function(){var e=Object(Ue.a)(Be.a.mark(function e(t,a,n,r,l){var o,c,i,s,u,d;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.match(/events\/\w{20}\/performances/)[0],c=o.length,i=t.substring(c+1,c+21),s=Y.collection(t).doc(a),u=Y.collection(o).doc(i),d=ke.NO_CHANGE,Y.runTransaction(function(e){return e.get(u).then(function(t){var a={};r!==d&&(a.choreoAwardEnum=et(r,t.data().choreoAwardEnum)),l!==d&&(a.specialAwardEnum=et(l,t.data().specialAwardEnum)),e.update(u,a),e.set(s,n,{merge:!0})})}).then(function(){return console.log("Batch Document successfully written!")}).catch(function(e){return console.error("Error writing document: ",e),!1});case 7:case"end":return e.stop()}},e)}));return function(t,a,n,r,l){return e.apply(this,arguments)}}(),at=a(45),nt=a.n(at),rt=a(169),lt=a.n(rt),ot=function(e){var t={url:e,baseURL:"http://localhost:5000",method:"get"};return lt.a.request(t)},ct=function(e,t){var a={url:e,baseURL:"http://localhost:5000",method:"post",data:t};return lt.a.request(a)},it=function(e,t){return ct("adjudications/".concat(e),nt.a.decamelizeKeys(t))},st=a(260),ut=a.n(st),dt=a(168),mt=a.n(dt),pt=a(261),ht=a.n(pt),ft=a(262),vt=a.n(ft),bt=function(e){var t=e.row,a=e.choices,n=e.label,l=e.onChange;return r.a.createElement(mt.a,null,n&&r.a.createElement(we.a,null,n),r.a.createElement(ut.a,{row:t},a.map(function(e){return r.a.createElement(ht.a,{key:e.value,control:r.a.createElement(vt.a,{color:"primary",name:e.name,checked:e.checked,onChange:l,value:e.value}),label:e.label})})))};bt.defaultProps={label:null,onChange:function(){},row:!1};var Et=Object(b.withStyles)(J)(bt),gt=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,["artisticMark","technicalMark"].includes(n)?parseInt(r,10):r))},a.handleCheckedAward=function(e){var t=e.target,n=t.name,r=t.checked;a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){var e=a.props,t=e.onModalClose,n=e.handleView;e.view?t():n()},a.getAwardConsderationEnumAction=function(e,t){var a=ke.DECREMENT,n=ke.INCREMENT,r=ke.NO_CHANGE;return Qe()(e,t)?r:e?n:a},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o,c,i,s,u,d,m,p,h,f,v,b,E,g,y;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.adjudicationId,r=t.collectionName,l=t.currentValues,o=l.audioURL,c=l.choreoAward,i=l.judgeName,s=l.notes,u=l.specialAward,d=a.state,m=d.artisticMark,p=d.choreoAward,h=d.specialAward,f=d.technicalMark,v=(parseInt(m,10)+parseInt(f,10))/2,b=a.getAwardConsderationEnumAction(p,c),E=a.getAwardConsderationEnumAction(h,u),g=Object(X.a)({cumulativeMark:v,judgeName:i||"",notes:s},a.state),o&&Object.assign(g,o),y=ke.NO_CHANGE,b===y&&E===y){e.next=13;break}return e.next=11,tt(r,n,g,b,E);case 11:e.next=15;break;case 13:return e.next=15,it(n,g);case 15:a.handleModalClose();case 16:case"end":return e.stop()}},e)})),a.handleModalClose=function(){(0,a.props.onModalClose)()};var n=e.currentValues;return a.state={artisticMark:n.artisticMark,choreoAward:n.choreoAward||!1,specialAward:n.specialAward||!1,technicalMark:n.technicalMark},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentValues.notes,n=this.state,l=n.artisticMark,o=n.choreoAward,c=n.specialAward,i=n.technicalMark,s=[{checked:c,label:"Special Award",name:"specialAward",value:"specialAward"},{checked:o,label:"Choreography Award",name:"choreoAward",value:"choreoAward"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexFlow:"column",margin:"25px"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement(ee,{type:"number",value:l,name:"artisticMark",label:"Artistic",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement(ee,{type:"number",value:i,name:"technicalMark",label:"Technical",onChange:this.handleChange}))),r.a.createElement(ee,{fullWidth:!0,disabled:!0,multiline:!0,name:"notes",value:a,label:"Notes"}),r.a.createElement(Et,{label:"Award Considerations",choices:s,onChange:this.handleCheckedAward})),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{type:"default",onClick:this.handleCancel},"cancel"),r.a.createElement(oe,{type:"primary",onClick:this.handleSubmit},"save"))))}}]),t}(r.a.Component);gt.defaultProps={currentValues:{}};var yt=Object(b.withStyles)(J)(gt),Ct=function(e){var t=e.type,a=e.score,n=e.scoreName,l="subtotal"===t?{flex:3,backgroundColor:"#cfcfcf",height:"100%",margin:"0",borderRight:"3px solid white",textAlign:"center"}:{flex:1,backgroundColor:"#c61100",height:"100%",margin:"0",textAlign:"center",color:"white"};return r.a.createElement("div",{style:l},r.a.createElement("div",{style:{display:"flex",flexFlow:"column",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement("span",{style:{fontSize:"36px",fontWeight:"bold"}},a),r.a.createElement("span",{style:{color:"#99999"}},n)))},wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,view:!0},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1,view:!0})},a.handleView=function(){a.setState(function(e){return{view:!e.view}})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.adjudicationId,a=e.collectionName,n=e.currentValues,l=e.performanceValues,o=this.state,c=o.open,i=o.view,s=n.artisticMark,u=n.audioURL,d=n.choreoAward,m=n.cumulativeMark,p=n.notes,h=n.specialAward,f=n.tabletID,v=n.technicalMark,b=l.academicLevel,E=l.choreographers,g=l.competitionLevel,y=l.danceEntry,C=l.danceStyle,w=l.danceSize,O=l.danceTitle,j=l.performers,k=l.school,S=function(e){return e||"N/A"},x=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexFlow:"column",margin:"35px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",borderBottom:"1px solid #dcdcdc"}},r.a.createElement("div",{style:{flex:"1 0 0"}},r.a.createElement(Pe,{value:S(y),label:"Dance Entry"}),r.a.createElement(Pe,{value:S(O),label:"Dance Title"}),r.a.createElement(Pe,{value:S(j),label:"Performers"}),r.a.createElement(Pe,{value:S(E),label:"Choreographer"})),r.a.createElement("div",{style:{flex:"1 0 0"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Pe,{value:S(k),label:"School"}),r.a.createElement(Pe,{value:S(b),label:"Level"})),r.a.createElement(Pe,{value:S(g),label:"Competition Level"}),r.a.createElement(Pe,{value:S(C),label:"Dance Style",helperText:"  "}),r.a.createElement(Pe,{value:S(w),label:"Dance Size"}))),r.a.createElement(Pe,{fullWidth:!0,label:"Notes",value:p}),u&&r.a.createElement(Fe,{audioURL:u}),r.a.createElement(we.a,null,"Award Considerations"),h&&r.a.createElement("div",null,r.a.createElement(Ee.a,{fontSize:"inherit",color:"primary"}),"Special Award"),d&&r.a.createElement("div",null,r.a.createElement(Ee.a,{fontSize:"inherit",color:"inherit",style:{color:"purple"}}),"Choreography Award")),r.a.createElement(ye.a,{style:{display:"flex",height:"75px",padding:"0",margin:"0"}},r.a.createElement(Ct,{type:"subtotal",score:S(s),scoreName:"Artistic"}),r.a.createElement(Ct,{type:"subtotal",score:S(v),scoreName:"Technical"}),r.a.createElement(Ct,{type:"total",score:S(m),scoreName:"Score"}))),D=r.a.createElement(yt,{adjudicationId:t,collectionName:a,currentValues:n,handleView:this.handleView,onModalClose:this.handleClose,view:i});return r.a.createElement(Ae,{open:c,formType:"edit",buttonTitle:"edit",onClick:this.handleClickOpen,onClose:this.handleClose},r.a.createElement(qe,{collectionName:a,docId:t,edit:i,onEditClick:this.handleView,shouldShowDropdown:!0,title:f||"N/A"}),i?x:D)}}]),t}(r.a.Component),Ot=Object(b.withStyles)(J)(wt),jt=function(e){var t=e.collectionName,a=e.currentValues,n=e.id,l=e.performanceValues,o=a.audioURL,c=a.artisticMark,i=a.choreoAward,s=a.cumulativeMark,u=a.specialAward,d=a.tabletID,m=a.technicalMark;return r.a.createElement(ve.a,{key:n},r.a.createElement(he.a,null,d),r.a.createElement(he.a,null,r.a.createElement("p",null,o?"yes":"no")),r.a.createElement(he.a,null,c),r.a.createElement(he.a,null,m),r.a.createElement(he.a,null,s),r.a.createElement(he.a,null,u&&r.a.createElement(Ee.a,{fontSize:"inherit",color:"primary"}),i&&r.a.createElement(Ee.a,{fontSize:"inherit",style:{color:"purple"}})),r.a.createElement(he.a,null,r.a.createElement(Ot,{adjudicationId:n,collectionName:t,currentValues:a,performanceValues:l})))},kt=a(269),St=a.n(kt),xt=a(270),Dt=a.n(xt),At=a(263),Nt=a.n(At),Tt=a(264),It=a.n(Tt),Mt=a(265),_t=a.n(Mt),Ft=Object(b.withStyles)(J)(function(e){var t,a,n,l=e.classes,o=e.type;switch(o){case"event":t=It.a,a="Create your first event",n="Empty Events Page";break;case"adjudication":t=Nt.a,a="Adjudications will be synced following the event",n="Empty Adjudications Page";break;case"performance":default:t=_t.a,a="Create your first performance",n="Empty Performances Page"}return r.a.createElement("div",{className:l.emptyState_wrapper},r.a.createElement("div",{className:l.emptyState_content},r.a.createElement("img",{src:t,alt:"Empty ".concat(o," Section"),width:"300"}),r.a.createElement("p",{className:l.emptyState_title},n),r.a.createElement("p",{className:l.emptyState_subtitle},a)))}),Lt=a(266),Pt=a.n(Lt),Vt=function(e){var t=e.classes,a=e.color,n=e.height,l=e.type,o=e.width;return r.a.createElement("div",{className:t.loading_wrapper},r.a.createElement(Pt.a,{color:a,height:n,type:l,width:o}))};Vt.defaultProps={color:"#de2706",height:50,type:"spin",width:50};var zt=Object(b.withStyles)(J)(Vt),Yt=a(267),Wt=a.n(Yt),Rt=function(e){var t=e.classes,a=e.history,n=e.renderNewButton,l=e.title;return r.a.createElement("div",{className:t.sectionHeaderWrapper},r.a.createElement("div",{className:t.sectionHeaderBackButton},r.a.createElement(oe,{type:"default",onClick:function(){a.goBack()}},r.a.createElement(Wt.a,null))),r.a.createElement(S.a,{variant:"h3"},"".concat(l,"s")),!!n&&r.a.createElement("div",{className:t.sectionHeaderAction},n))};Rt.defaultProps={renderNewButton:null};var Bt=Object($.a)(Object(b.withStyles)(J)(Rt)),Ut=a(268),Jt=a.n(Ut),Ht=Object(b.withStyles)(J)(function(e){var t=e.headings;return r.a.createElement(Jt.a,null,r.a.createElement(ve.a,null,t.map(function(e){return r.a.createElement(he.a,{key:e},e)}),r.a.createElement(he.a,null)))}),Kt=function(e){var t=e.children,a=e.headings,n=e.loading,l=e.showContent,o=e.renderNewButton,c=e.tableFilters,i=e.type,s=l?r.a.createElement(r.a.Fragment,null,c,r.a.createElement(St.a,null,r.a.createElement(Ht,{headings:a}),r.a.createElement(Dt.a,null,t))):r.a.createElement(Ft,{type:i});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{renderNewButton:o,title:i}),n?r.a.createElement(zt,null):s)};Kt.defaultProps={renderNewButton:null,tableFilters:null};var Gt=Object(b.withStyles)(J)(Kt),$t=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={adjudications:[],loading:!0,performanceValues:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.eventId,n=t.performanceId,r="events/".concat(a,"/performances/").concat(n);Y.doc(r).onSnapshot(function(t){e.setState({performanceValues:t.data()})});var l="".concat(r,"/adjudications");this.subscribe=Y.collection(l).onSnapshot(function(t){var a=[];t.forEach(function(e){var t=Object(X.a)({id:e.id},e.data());a.push(t)}),e.setState({adjudications:a,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"render",value:function(){var e=this.props.match.params,t=e.eventId,a=e.performanceId,n=this.state,l=n.adjudications,o=n.loading,c=n.performanceValues,i="events/".concat(t,"/performances/").concat(a,"/adjudications"),s=["artisticMark","audioURL","choreoAward","cumulativeMark","notes","specialAward","tabletID","technicalMark"],u=Array.isArray(l)&&l.length>0;return r.a.createElement(Gt,{headings:["Tablet ID","Audio","Artistic Score","Technical Score","Cumulative Score","Awards"],loading:o,showContent:u,type:"adjudication"},u&&l.map(function(e){var t=e.id,a=me()(e,s);return r.a.createElement(jt,{collectionName:i,currentValues:a,key:t,performanceValues:c,id:t})}))}}]),t}(r.a.Component),Xt=a(277),qt=a(120),Zt=a.n(qt),Qt=a(58),ea=a.n(Qt),ta=function(e){return ct("/events/",e)},aa=function(e,t){return ct("/events/".concat(e),t)},na=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value,l=r.includes("-");"eventDate"===n&&r?a.setState(Object(W.a)({},n,l?ea()(r,"YYYY-MM-DD").format("DD/MM/YYYY"):ea()(r,"MM/DD/YYYY").format("DD/MM/YYYY"))):a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){a.handleModalClose()},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o,c,i,s,u,d;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.eventId,r=t.formType,l=t.onUpdate,o=a.state,c=o.eventDate,i=o.eventTitle,s=o.numJudges,u={event_date:new Date(ea()(c,"DD/MM/YYYY").format("MM-DD-YYYY")),event_title:i,num_judges:s},"http://127.0.0.1:5000/",r!==xe.NEW){e.next=9;break}return e.next=7,ta(u);case 7:e.next=13;break;case 9:return e.next=11,aa(n,u);case 11:d=e.sent,l(d.data);case 13:a.handleModalClose();case 14:case"end":return e.stop()}},e)})),a.handleModalClose=function(){(0,a.props.onModalClose)()};var n=e.currentValues;return a.state={disabledSave:!0,eventDate:n.eventDate||ea()().format("DD/MM/YYYY"),eventTitle:n.eventTitle||"",numJudges:n.numJudges||0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.formType,n=this.state,l=n.disabledSave,o=n.eventTitle,c=n.eventDate,i=n.numJudges;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{margin:"25px"}},r.a.createElement(ee,{fullWidth:!0,name:"eventTitle",label:"Event Title",onChange:this.handleChange,value:o}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ee,{fullWidth:!0,inputLabelProps:{shrink:!0},name:"eventDate",label:"Event Date",onChange:this.handleChange,style:{marginRight:"5px"},type:"date",value:c?ea()(c,"DD/MM/YYYY").format("YYYY-MM-DD"):"",variant:"filled"}),r.a.createElement(ee,{fullWidth:!0,name:"numJudges",label:"No. Judges",onChange:this.handleChange,type:"number",value:i}))),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{onClick:this.handleCancel,type:"default"},a===xe.EDIT?"cancel":"discard"),r.a.createElement(oe,{disabled:l,onClick:this.handleSubmit,type:"primary"},"Save"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=me()(t,["eventDate","eventTitle","numJudges"]);return{disabledSave:!Object.keys(a).every(function(e){return!!t[e]})}}}]),t}(r.a.Component);na.defaultProps={currentValues:{},formType:xe.EDIT};var ra=Object(b.withStyles)(J)(na),la=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.eventId,n=e.formType,l=e.onUpdate,o=this.state.open,c=xe.EDIT,i=n===c?"Edit":"New",s=r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt.a,{fontSize:"small",style:{color:"gray",marginRight:"5px"}}),"NEW EVENT"),u=n===c?"EDIT":s;return r.a.createElement(Ae,{open:o,buttonTitle:u,formType:n,onClick:this.handleClickOpen,onClose:this.handleClose},r.a.createElement(qe,{collectionName:"events",docId:a,shouldShowDropdown:!0,title:"".concat(i," Event")}),r.a.createElement(ra,{currentValues:t,eventId:a,formType:n,onModalClose:this.handleClose,onUpdate:l}))}}]),t}(r.a.Component);la.defaultProps={currentValues:{},eventId:null,formType:xe.EDIT};var oa=Object(b.withStyles)(J)(la),ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.id,n=e.onUpdate,l=t.eventTitle,o=t.eventDate,c=t.numJudges;return r.a.createElement(ve.a,null,r.a.createElement(he.a,null,r.a.createElement(y.a,{to:"/events/".concat(a,"/performances")},l)),r.a.createElement(he.a,null,o?ea()(o).format("YYYY-MM-DD"):""),r.a.createElement(he.a,null,0),r.a.createElement(he.a,null,c),r.a.createElement(he.a,null,r.a.createElement(oa,{formType:"edit",eventId:a,currentValues:t,onUpdate:n})))}}]),t}(r.a.Component);ca.defaultProps={currentValues:{},id:null};var ia=ca,sa=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleUpdate=function(e){var t=Object(Xt.a)(a.state.events.filter(function(t){return t.id!==e.id}));t.push(nt.a.camelizeKeys(e)),a.setState({events:t})},a.state={events:null,loading:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;ot("events").then(function(t){var a=Object.values(t.data).map(function(e){return nt.a.camelizeKeys(e)});e.setState({events:a,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.events,n=t.loading,l=["eventDate","eventTitle","numJudges"],o=r.a.createElement(oa,{formType:"new"}),c=Array.isArray(a)&&a.length>0;return r.a.createElement(Gt,{headings:["Event Title","Event Date","No. Performances","No. Judges"],loading:n,renderNewButton:o,showContent:c,type:"event"},c&&a.map(function(t){var a=t.id,n=me()(t,l);return r.a.createElement(ia,{currentValues:n,id:a,key:a,onUpdate:e.handleUpdate})}))}}]),t}(r.a.Component),ua=a(271),da=a.n(ua),ma=function(e){return ct("performances/",nt.a.decamelizeKeys(e))},pa=function(e,t){return ct("performances/".concat(e),nt.a.decamelizeKeys(t))},ha=function(e){var t=e.className,a=e.fullWidth,n=e.helperText,l=e.label,o=e.name,c=e.onChange,i=e.options,s=e.style,u=e.value;return r.a.createElement(Z.a,{className:t,style:Object(X.a)({margin:"0 5px 25px 5px"},s),fullWidth:a,helperText:n,id:"filled-select-currency",select:!0,label:l,name:o,SelectProps:{MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}}},value:u,onChange:c,margin:"normal",variant:"filled"},i.map(function(e){return r.a.createElement(N.a,{key:e.value,value:e.value},e.value)}))},fa=ha;ha.defaultProps={className:null,fullWidth:!1,helperText:null,label:null,onChange:function(){},options:[],style:null,value:""};var va=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(W.a)({},n,r))},a.handleCancel=function(){(0,a.props.onModalClose)()},a.handleModalClose=function(){(0,a.props.onModalClose)()},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,t.collectionName,n=t.formType,r=t.performanceId,l=da()(a.state,["disabledSave","options"]),n!==xe.NEW){e.next=7;break}return e.next=5,ma(l);case 5:e.next=9;break;case 7:return e.next=9,pa(r,l);case 9:a.handleModalClose();case 10:case"end":return e.stop()}},e)})),a.renderOptions=function(e){return e?e.map(function(e){return{value:e}}):[]};var n=e.currentValues;return a.state={academicLevel:n.academicLevel||"",choreographers:n.choreographers||"",competitionLevel:n.competitionLevel||"",danceEntry:n.danceEntry,danceSize:n.danceSize||"N/A",danceStyle:n.danceStyle||"",danceTitle:n.danceTitle||"",disabledSave:!0,options:{},performers:n.performers||"",school:n.school||""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subscribe=Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){a[e.id]=Object.keys(e.data())}),e.setState({options:a})})}},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.formType,n=this.state,l=n.academicLevel,o=n.choreographers,c=n.competitionLevel,i=n.danceEntry,s=n.danceSize,u=n.danceStyle,d=n.danceTitle,m=n.disabledSave,p=n.options,h=n.performers,f=n.school;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"25px 25px 0"}},r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,label:"Dance Entry",name:"danceEntry",onChange:this.handleChange,type:"number",value:i}),r.a.createElement("div",{className:t.flex_default},r.a.createElement(fa,{fullWidth:!0,label:"School",name:"school",onChange:this.handleChange,options:this.renderOptions(p.school),value:f}),r.a.createElement(fa,{fullWidth:!0,label:"Level",name:"academicLevel",onChange:this.handleChange,options:this.renderOptions(p.academicLevel),value:l}))),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,label:"Dance Title",name:"danceTitle",onChange:this.handleChange,value:d}),r.a.createElement(fa,{className:t.flex_default,label:"Competition Level",name:"competitionLevel",onChange:this.handleChange,options:this.renderOptions(p.competitionLevel),value:c})),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,helperText:"Comma separated, eg. John Smith, Jane Doe",label:"Performers",name:"performers",onChange:this.handleChange,value:h}),r.a.createElement(fa,{className:t.flex_default,label:"Dance Style",name:"danceStyle",onChange:this.handleChange,options:this.renderOptions(p.danceStyle),value:u})),r.a.createElement("div",{className:t.flex},r.a.createElement(ee,{className:t.flex_default,helperText:"Comma separated, eg. John Smith, Jane Doe",label:"Choreographers",name:"choreographers",onChange:this.handleChange,value:o}),r.a.createElement(fa,{className:t.flex_default,label:"Size",name:"danceSize",onChange:this.handleChange,options:this.renderOptions(p.danceSize),value:s}))),r.a.createElement("div",{className:t.dfdialog_footer},r.a.createElement(ye.a,null,r.a.createElement(oe,{type:"default",onClick:this.handleCancel},a===xe.EDIT?"cancel":"discard"),r.a.createElement(oe,{disabled:m,onClick:this.handleSubmit,type:"primary"},"Save"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=me()(t,["academicLevel","choreographers","competitionLevel","danceEntry","danceSize","danceStyle","danceTitle","performers","school"]);return{disabledSave:!Object.keys(a).every(function(e){return!!t[e]})}}}]),t}(r.a.Component);va.defaultProps={currentValues:{},formType:xe.EDIT};var ba=Object(b.withStyles)(J)(va),Ea=function(){var e=Object(Ue.a)(Be.a.mark(function e(t,a){return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Y.collection(t).add(a).then(function(){return console.log("Document successfully added!")}).catch(function(e){return console.error("Error writing document: ",e),!1});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ga=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(){a.setState({open:!1})},a.handleDup=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l,o;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.currentValues,r=t.eventId,l=Object(X.a)({},n,{danceTitle:"".concat(n.danceTitle," Duplicate")}),o="events/".concat(r,"/performances"),e.next=5,Ea(o,l);case 5:a.handleClose();case 6:case"end":return e.stop()}},e)})),a.handleClickOpen=function(){a.setState({open:!0})},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.eventId,n=e.formType,l=e.performanceId,o=this.state.open,c="events/".concat(a,"/performances"),i=n===xe.EDIT,s=n===xe.EDIT?"Edit":"New",u=n===xe.EDIT?"EDIT":r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt.a,{style:{color:"gray",marginRight:"5px"}}),"NEW PERFORMANCE"),d="".concat(s," Performance");return r.a.createElement(Ae,{buttonTitle:u,formType:n,onClick:this.handleClickOpen,onClose:this.handleClose,open:o},r.a.createElement(qe,{collectionName:c,docId:l,handleDup:this.handleDup,shouldShowDropdown:i,title:d}),r.a.createElement(ba,{collectionName:c,currentValues:t,formType:n,onModalClose:this.handleClose,performanceId:l}))}}]),t}(r.a.Component);ga.defaultProps={collectionName:"",currentValues:{},formType:xe.EDIT,performanceId:null};var ya=Object(b.withStyles)(J)(ga),Ca=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentValues,a=e.eventId,n=e.id,l=t.academicLevel,o=t.competitionLevel,c=t.danceEntry,i=t.danceSize,s=t.danceStyle,u=t.danceTitle,d=t.school;return r.a.createElement(ve.a,{style:{}},r.a.createElement(he.a,null,r.a.createElement(y.a,{to:"performance/".concat(n,"/adjudications")},u)),r.a.createElement(he.a,null,c),r.a.createElement(he.a,null,d),r.a.createElement(he.a,null,l),r.a.createElement(he.a,null,o),r.a.createElement(he.a,null,s),r.a.createElement(he.a,null,i),r.a.createElement(he.a,null,r.a.createElement(ya,{currentValues:t,eventId:a,formType:"edit",performanceId:n})))}}]),t}(r.a.Component);Ca.defaultProps={currentValues:{}};var wa=Ca,Oa=a(85),ja=a.n(Oa),ka=a(274),Sa=a.n(ka),xa=a(273),Da=a.n(xa),Aa=a(272),Na=a.n(Aa),Ta=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=function(e){a.anchorElement||a.setState({anchorElement:e.currentTarget}),a.setState({menuOpen:!a.menuOpen})},a.handleSubMenuClose=function(){a.setState({menuOpen:!1})},a.state={menuOpen:!1,anchorElement:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.caption,a=e.choices,n=e.classes,l=e.onChange,o=this.state,c=o.anchorElement,i=o.menuOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{onClick:this.handleItemClick,className:ae()(n.subMenuItem)},t,r.a.createElement(Na.a,null)),r.a.createElement(D.a,{anchorEl:c,anchorOrigin:{horizontal:"right",vertical:"top"},classes:{paper:n.subMenuOptions},getContentAnchorEl:null,onClose:this.handleSubMenuClose,open:i,transformOrigin:{horizontal:"left",vertical:"top"}},r.a.createElement(Et,{choices:a,onChange:l})))}}]),t}(r.a.Component),Ia=_()(J)(Ta),Ma=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.aggregateChoices=function(e,t){var n=a.props.filtered;return t.map(function(t){return{checked:n[e].includes(t),label:t,name:e,value:t}})},a.renderMenuItems=function(e){return Object.keys(e).map(function(t,n){var l=a.props.handleFilterChecked,o=a.aggregateChoices(t,e[t]),c="".concat(t,"-").concat(n),i=t.replace(/([A-Z])/g," $1"),s=i.charAt(0).toUpperCase()+i.slice(1);return r.a.createElement(Ia,{caption:s,choices:o,key:c,onChange:l})})},a.state={anchorEl:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props,a=t.handleFilterClearAll,n=t.options,l=n&&this.renderMenuItems(n);return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{onClick:this.handleMenuOpen},"Filter",r.a.createElement(Da.a,null)),r.a.createElement(D.a,{anchorEl:e,anchorOrigin:{horizontal:"left",vertical:"bottom"},getContentAnchorEl:null,transformOrigin:{horizontal:"left",vertical:"top"},onClose:this.handleMenuClose,open:Boolean(e)},l,r.a.createElement("hr",null),r.a.createElement(N.a,{onClick:a},"Clear All Filters")))}}]),t}(r.a.Component),_a=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFilterClearAll=function(){return a.setState({filtered:{academicLevel:[],awardConsideration:[],competitionLevel:[],danceSize:[],danceStyle:[],school:[]},search:void 0})},a.handleFilterChecked=function(e){var t=e.target,n=t.name,r=t.value,l=t.checked;a.setState(function(e){var t=e.filtered[n],a=l?t.concat(r):t.filter(function(e){return e!==r});return{filtered:Object(X.a)({},e.filtered,Object(W.a)({},n,a))}})},a.handleInputChange=function(e){var t=e.target.value;a.setState({search:t})},a.state={filtered:{academicLevel:[],awardConsideration:[],competitionLevel:[],danceSize:[],danceStyle:[],school:[]},options:{},search:void 0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.subscribe=Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){a[e.id]=Object.keys(e.data())}),e.setState({options:a})})}},{key:"componentDidUpdate",value:function(e,t){var a=t.filtered,n=t.search,r=this.state,l=r.filtered,o=r.search,c=this.props.handleFilters;Qe()(a,l)&&Qe()(n,o)||c(l,o)}},{key:"componentWillUnmount",value:function(){this.subscribe()}},{key:"render",value:function(){var e=this.state,t=e.filtered,a=e.options,n=e.search,l=t.awardConsideration,o=this.props.classes,c=[{checked:l.includes("specialAward"),name:"awardConsideration",value:"specialAward",label:r.a.createElement(r.a.Fragment,null,"Special Award Only",r.a.createElement(Ee.a,{color:"primary",fontSize:"inherit",style:{marginLeft:"5px",verticalAlign:"middle"}}))},{checked:l.includes("choreoAward"),name:"awardConsideration",value:"choreoAward",label:r.a.createElement(r.a.Fragment,null,"Choreography Awards Only",r.a.createElement(Ee.a,{fontSize:"inherit",style:{color:"purple",marginLeft:"5px",verticalAlign:"middle"}}))}];return r.a.createElement("div",{style:{display:"flex",height:"40px"}},r.a.createElement("div",{className:o.header_search},r.a.createElement("div",{className:o.header_searchIcon},r.a.createElement(Sa.a,null)),r.a.createElement(ja.a,{placeholder:"Search",disableUnderline:!0,classes:{root:o.header_inputRoot,input:o.header_inputInput},name:"search",onChange:this.handleInputChange,value:n})),r.a.createElement(Ma,{filtered:t,handleFilterClearAll:this.handleFilterClearAll,handleFilterChecked:this.handleFilterChecked,options:a}),r.a.createElement(Et,{row:!0,choices:c,onChange:this.handleFilterChecked}))}}]),t}(r.a.Component),Fa=Object(b.withStyles)(J)(_a),La=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getFilterKeys=function(e){return Object.keys(e).reduce(function(t,a){return e[a].length>0&&t.push(a),t},[])},a.handleFilters=function(e,t){var n=a.state.performances,r=a.getFilterKeys(e),l=n.filter(function(a){var n=r.every(function(t){return"awardConsideration"===t?e[t].includes("choreoAward")?a.choreoAwardEnum>0:!e[t].includes("specialAward")||a.specialAwardEnum>0:e[t].includes(a[t])});if(t&&t.length>0){var l=[a.danceTitle,a.performers,a.choreographers],o=t.toLowerCase();try{return n&&l.find(function(e){return-1!==e.toLowerCase().search(o)})}catch(c){return n&&l.find(function(e){return null})}}return n}).sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)});a.setState({filteredPerformances:l})},a.state={filteredPerformances:null,loading:!0,performances:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params.eventId;(e=a,ot("events/".concat(e,"/performances"))).then(function(e){var a=Object.values(e.data).map(function(e){return nt.a.camelizeKeys(e)});a=a.sort(function(e,t){return Number(e.danceEntry)-Number(t.danceEntry)}),t.setState({filteredPerformances:a,loading:!1,performances:a})}).catch(function(e){console.log(e),t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.filteredPerformances,a=e.loading,n=e.performances,l=this.props.match.params.eventId,o=["academicLevel","choreographers","competitionLevel","danceEntry","danceSize","danceStyle","danceTitle","performers","school"],c=r.a.createElement(ya,{eventId:l,formType:"new"}),i=Array.isArray(n)&&n.length>0,s=r.a.createElement(Fa,{handleFilters:this.handleFilters});return r.a.createElement(Gt,{headings:["Dance Title","Dance Entry","School","Academic Level","Level of Competition","Dance Style","Dance Size"],loading:a,renderNewButton:c,showContent:i,tableFilters:s,type:"performance"},i&&t.map(function(e){var t=e.id,a=me()(e,o);return r.a.createElement(wa,{currentValues:a,eventId:l,id:t,key:t})}))}}]),t}(r.a.Component),Pa=function(){var e=Object(Ue.a)(Be.a.mark(function e(t,a){var n,r,l=arguments;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:Se.ADD_DATA,r=n===Se.ADD_DATA?a:z.delete(),Y.collection("settings").doc(t).set(Object(W.a)({},a,r),{merge:!0}).then(function(){console.log("Document successfully!")}).catch(function(e){return console.error("Error writing document: ",e),!1});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Va=a(276),za=a.n(Va),Ya=a(275),Wa=a.n(Ya),Ra=function(e){var t=e.category,a=e.onClose,n=e.optionName,l=e.showAlert,o=function(){return a()},c=function(){var e=Object(Ue.a)(Be.a.mark(function e(){var a;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Se.DELETE_DATA,e.next=3,Pa(t,n,a);case 3:o();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(je.a,{onClose:o,open:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(We.a,{id:"alert-dialog-title"},"Delete ".concat(n,"?")),r.a.createElement(Wa.a,null,r.a.createElement("p",null,"Deleted categories cannot be restored.")),r.a.createElement(ye.a,null,r.a.createElement(re.a,{onClick:o,color:"secondary"},"Cancel"),r.a.createElement(re.a,{onClick:c,color:"primary",autoFocus:!0},"Delete")))},Ba=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCloseAlert=function(){a.setState({showAlert:!1})},a.handleShowAlert=function(){a.setState({showAlert:!0})},a.state={showAlert:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.category,a=e.optionName,n=this.state.showAlert;return r.a.createElement("div",{style:{width:"100%",marginTop:"5px",marginBottom:"5px"}},r.a.createElement("div",{style:{clear:"both",float:"left",width:"auto"}},"".concat(a," ")),r.a.createElement("div",{style:{float:"right",width:"auto"}},r.a.createElement(za.a,{fontSize:"inherit",onClick:this.handleShowAlert,style:{cursor:"pointer",color:"#99999",verticalAlign:"middle"}}),r.a.createElement(Ra,{category:t,onClose:this.handleCloseAlert,optionName:a,showAlert:n})))}}]),t}(r.a.Component),Ua=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return a.setState({selectedCategory:e.target.value})},a.handleOptionChange=function(e){return a.setState({value:e.target.value})},a.handleSubmit=Object(Ue.a)(Be.a.mark(function e(){var t,n,r,l;return Be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.selectedCategory,r=t.value,l=a.toCamelCase(n),e.next=4,Pa(l,r,Se.ADD_DATA);case 4:a.setState({value:""});case 5:case"end":return e.stop()}},e)})),a.toCamelCase=function(e){return e.charAt(0).toLowerCase()+e.replace(/ /g,"").slice(1)},a.state={settings:{},selectedCategory:"Dance Style",value:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Y.collection("settings").onSnapshot(function(t){var a={};t.forEach(function(e){var t=e.id.replace(/([A-Z])/g," $1"),n=e.id.charAt(0).toUpperCase()+t.slice(1);a[n]=Object.keys(e.data())}),e.setState({settings:a})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.selectedCategory,l=a.settings,o=a.value,c=l&&Object.keys(l).map(function(e){return{value:e}}),i=Object.keys(l).length>0&&!!n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{showNew:!1,title:"setting"}),r.a.createElement("div",{className:t.settings_wrapper},r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("h3",null,"Add new options to categories."),r.a.createElement("p",null,"Ex: try adding the option \u201cHip Hop\u201d to the \u201cDance Style\u201d category.")),l&&r.a.createElement(fa,{fullWidth:!0,label:"Pick a Category",name:"category",onChange:this.handleChange,options:c,value:n}),r.a.createElement(ee,{autoFocus:!0,label:"Enter an Option",name:"option",value:o,onChange:this.handleOptionChange,fullWidth:!0,style:{backgroundColor:"rgb(255, 209, 217)"}}),r.a.createElement(oe,{onClick:this.handleSubmit,type:"secondary"},"ADD OPTION"),r.a.createElement("div",{className:t.settings_view,elevation:0},i&&l[n].map(function(t){var a=e.toCamelCase(n);return r.a.createElement(Ba,{key:t,category:a,optionName:t})}))))}}]),t}(r.a.Component),Ja=Object(b.withStyles)(J)(Ua),Ha=g()({primary:{main:"#de2706"},secondary:{main:"#000"},text:{primary:"#4d4d4d"}}),Ka=Object(b.createMuiTheme)({palette:Ha,typography:{useNextVariants:!0,fontFamily:"'Raleway', sans-serif",fontSize:14,subtitle1:{fontFamily:"'Fjalla One', sans-serif",fontSize:20},h3:{fontFamily:"'Fjalla One', sans-serif",textTransform:"uppercase",fontSize:36,color:"#de2706"}},overrides:{MuiFilledInput:{underline:{"&:after":{borderBottom:"2px solid black"},"&$focused:after":{borderBottom:"2px solid black"}}},MuiInput:{root:{underline:{"&:after":{borderBottom:"2px solid black"},"&$focused:after":{borderBottom:"2px solid black"}}}},MuiFormLabel:{root:{"&$focused":{color:"black",fontWeight:"semi-bold"}},focused:{"&$focused":{color:"black",fontWeight:"semi-bold"}}}}}),Ga=function(e){var t=e.component,a=e.path,n=e.user,l=Object(m.a)(e,["component","path","user"]);return r.a.createElement(p.a,Object.assign({path:a,render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.a,{to:{pathname:"/",state:{from:e.location}}})}},l))},$a=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,user:V.currentUser},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.onAuthStateChanged(function(t){e.setState({loading:!1,user:t})})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.user;return r.a.createElement(b.MuiThemeProvider,{theme:Ka},r.a.createElement(f.a,null,t?r.a.createElement(zt,null):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(G,null),r.a.createElement(v.a,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(se,Object.assign({},e,{user:a}))}}),r.a.createElement(Ga,{component:sa,exact:!0,path:"/events",user:a}),r.a.createElement(Ga,{component:Ja,exact:!0,path:"/settings",user:a}),r.a.createElement(Ga,{component:La,path:"/events/:eventId/performances",user:a}),r.a.createElement(Ga,{component:$t,path:"/events/:eventId/performance/:performanceId/adjudications",user:a}),r.a.createElement(p.a,{component:ue})))))}}]),t}(r.a.Component);o.a.render(r.a.createElement($a,null),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.35497761.chunk.js.map